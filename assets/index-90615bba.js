(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function w0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pp={exports:{}},Ea={},Lp={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Io=Symbol.for("react.element"),E0=Symbol.for("react.portal"),S0=Symbol.for("react.fragment"),T0=Symbol.for("react.strict_mode"),C0=Symbol.for("react.profiler"),I0=Symbol.for("react.provider"),k0=Symbol.for("react.context"),N0=Symbol.for("react.forward_ref"),D0=Symbol.for("react.suspense"),A0=Symbol.for("react.memo"),x0=Symbol.for("react.lazy"),wd=Symbol.iterator;function O0(t){return t===null||typeof t!="object"?null:(t=wd&&t[wd]||t["@@iterator"],typeof t=="function"?t:null)}var $p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Up=Object.assign,bp={};function ri(t,e,n){this.props=t,this.context=e,this.refs=bp,this.updater=n||$p}ri.prototype.isReactComponent={};ri.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ri.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bp(){}Bp.prototype=ri.prototype;function Dc(t,e,n){this.props=t,this.context=e,this.refs=bp,this.updater=n||$p}var Ac=Dc.prototype=new Bp;Ac.constructor=Dc;Up(Ac,ri.prototype);Ac.isPureReactComponent=!0;var Ed=Array.isArray,Fp=Object.prototype.hasOwnProperty,xc={current:null},zp={key:!0,ref:!0,__self:!0,__source:!0};function Vp(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Fp.call(e,r)&&!zp.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Io,type:t,key:o,ref:s,props:i,_owner:xc.current}}function _0(t,e){return{$$typeof:Io,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Oc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Io}function R0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sd=/\/+/g;function fl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?R0(""+t.key):e.toString(36)}function ys(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Io:case E0:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+fl(s,0):r,Ed(i)?(n="",t!=null&&(n=t.replace(Sd,"$&/")+"/"),ys(i,e,n,"",function(u){return u})):i!=null&&(Oc(i)&&(i=_0(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Sd,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Ed(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+fl(o,a);s+=ys(o,e,n,l,i)}else if(l=O0(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+fl(o,a++),s+=ys(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Jo(t,e,n){if(t==null)return t;var r=[],i=0;return ys(t,r,"","",function(o){return e.call(n,o,i++)}),r}function M0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ye={current:null},ws={transition:null},P0={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:ws,ReactCurrentOwner:xc};function jp(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Jo,forEach:function(t,e,n){Jo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jo(t,function(){e++}),e},toArray:function(t){return Jo(t,function(e){return e})||[]},only:function(t){if(!Oc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=ri;V.Fragment=S0;V.Profiler=C0;V.PureComponent=Dc;V.StrictMode=T0;V.Suspense=D0;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P0;V.act=jp;V.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Up({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=xc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Fp.call(e,l)&&!zp.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Io,type:t.type,key:i,ref:o,props:r,_owner:s}};V.createContext=function(t){return t={$$typeof:k0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:I0,_context:t},t.Consumer=t};V.createElement=Vp;V.createFactory=function(t){var e=Vp.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:N0,render:t}};V.isValidElement=Oc;V.lazy=function(t){return{$$typeof:x0,_payload:{_status:-1,_result:t},_init:M0}};V.memo=function(t,e){return{$$typeof:A0,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=ws.transition;ws.transition={};try{t()}finally{ws.transition=e}};V.unstable_act=jp;V.useCallback=function(t,e){return Ye.current.useCallback(t,e)};V.useContext=function(t){return Ye.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return Ye.current.useDeferredValue(t)};V.useEffect=function(t,e){return Ye.current.useEffect(t,e)};V.useId=function(){return Ye.current.useId()};V.useImperativeHandle=function(t,e,n){return Ye.current.useImperativeHandle(t,e,n)};V.useInsertionEffect=function(t,e){return Ye.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return Ye.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return Ye.current.useMemo(t,e)};V.useReducer=function(t,e,n){return Ye.current.useReducer(t,e,n)};V.useRef=function(t){return Ye.current.useRef(t)};V.useState=function(t){return Ye.current.useState(t)};V.useSyncExternalStore=function(t,e,n){return Ye.current.useSyncExternalStore(t,e,n)};V.useTransition=function(){return Ye.current.useTransition()};V.version="18.3.1";Lp.exports=V;var G=Lp.exports;const L0=w0(G);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=G,U0=Symbol.for("react.element"),b0=Symbol.for("react.fragment"),B0=Object.prototype.hasOwnProperty,F0=$0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z0={key:!0,ref:!0,__self:!0,__source:!0};function Hp(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)B0.call(e,r)&&!z0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:U0,type:t,key:o,ref:s,props:i,_owner:F0.current}}Ea.Fragment=b0;Ea.jsx=Hp;Ea.jsxs=Hp;Pp.exports=Ea;var Gp=Pp.exports;const P=Gp.jsx,ve=Gp.jsxs;var ru={},Jp={exports:{}},pt={},Kp={exports:{}},qp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,B){var U=N.length;N.push(B);e:for(;0<U;){var pe=U-1>>>1,Ie=N[pe];if(0<i(Ie,B))N[pe]=B,N[U]=Ie,U=pe;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var B=N[0],U=N.pop();if(U!==B){N[0]=U;e:for(var pe=0,Ie=N.length,Ho=Ie>>>1;pe<Ho;){var Bn=2*(pe+1)-1,dl=N[Bn],Fn=Bn+1,Go=N[Fn];if(0>i(dl,U))Fn<Ie&&0>i(Go,dl)?(N[pe]=Go,N[Fn]=U,pe=Fn):(N[pe]=dl,N[Bn]=U,pe=Bn);else if(Fn<Ie&&0>i(Go,U))N[pe]=Go,N[Fn]=U,pe=Fn;else break e}}return B}function i(N,B){var U=N.sortIndex-B.sortIndex;return U!==0?U:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,g=!1,v=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(N){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=N)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function w(N){if(y=!1,m(N),!v)if(n(l)!==null)v=!0,gt(I);else{var B=n(u);B!==null&&X(w,B.startTime-N)}}function I(N,B){v=!1,y&&(y=!1,p(_),_=-1),g=!0;var U=d;try{for(m(B),h=n(l);h!==null&&(!(h.expirationTime>B)||N&&!at());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,d=h.priorityLevel;var Ie=pe(h.expirationTime<=B);B=t.unstable_now(),typeof Ie=="function"?h.callback=Ie:h===n(l)&&r(l),m(B)}else r(l);h=n(l)}if(h!==null)var Ho=!0;else{var Bn=n(u);Bn!==null&&X(w,Bn.startTime-B),Ho=!1}return Ho}finally{h=null,d=U,g=!1}}var A=!1,x=null,_=-1,Y=5,z=-1;function at(){return!(t.unstable_now()-z<Y)}function Ht(){if(x!==null){var N=t.unstable_now();z=N;var B=!0;try{B=x(!0,N)}finally{B?ee():(A=!1,x=null)}}else A=!1}var ee;if(typeof f=="function")ee=function(){f(Ht)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Ze=fe.port2;fe.port1.onmessage=Ht,ee=function(){Ze.postMessage(null)}}else ee=function(){k(Ht,0)};function gt(N){x=N,A||(A=!0,ee())}function X(N,B){_=k(function(){N(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,gt(I))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var U=d;d=B;try{return N()}finally{d=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var U=d;d=N;try{return B()}finally{d=U}},t.unstable_scheduleCallback=function(N,B,U){var pe=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?pe+U:pe):U=pe,N){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=U+Ie,N={id:c++,callback:B,priorityLevel:N,startTime:U,expirationTime:Ie,sortIndex:-1},U>pe?(N.sortIndex=U,e(u,N),n(l)===null&&N===n(u)&&(y?(p(_),_=-1):y=!0,X(w,U-pe))):(N.sortIndex=Ie,e(l,N),v||g||(v=!0,gt(I))),N},t.unstable_shouldYield=at,t.unstable_wrapCallback=function(N){var B=d;return function(){var U=d;d=B;try{return N.apply(this,arguments)}finally{d=U}}}})(qp);Kp.exports=qp;var V0=Kp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0=G,dt=V0;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wp=new Set,Hi={};function ur(t,e){Vr(t,e),Vr(t+"Capture",e)}function Vr(t,e){for(Hi[t]=e,t=0;t<e.length;t++)Wp.add(e[t])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iu=Object.prototype.hasOwnProperty,H0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Td={},Cd={};function G0(t){return iu.call(Cd,t)?!0:iu.call(Td,t)?!1:H0.test(t)?Cd[t]=!0:(Td[t]=!0,!1)}function J0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K0(t,e,n,r){if(e===null||typeof e>"u"||J0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xe(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Le[t]=new Xe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Le[e]=new Xe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Le[t]=new Xe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Le[t]=new Xe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Le[t]=new Xe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Le[t]=new Xe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Le[t]=new Xe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Le[t]=new Xe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Le[t]=new Xe(t,5,!1,t.toLowerCase(),null,!1,!1)});var _c=/[\-:]([a-z])/g;function Rc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_c,Rc);Le[e]=new Xe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_c,Rc);Le[e]=new Xe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_c,Rc);Le[e]=new Xe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Le[t]=new Xe(t,1,!1,t.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Le[t]=new Xe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mc(t,e,n,r){var i=Le.hasOwnProperty(e)?Le[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(K0(e,n,i,r)&&(n=null),r||i===null?G0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var sn=j0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ko=Symbol.for("react.element"),yr=Symbol.for("react.portal"),wr=Symbol.for("react.fragment"),Pc=Symbol.for("react.strict_mode"),ou=Symbol.for("react.profiler"),Qp=Symbol.for("react.provider"),Yp=Symbol.for("react.context"),Lc=Symbol.for("react.forward_ref"),su=Symbol.for("react.suspense"),au=Symbol.for("react.suspense_list"),$c=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),Xp=Symbol.for("react.offscreen"),Id=Symbol.iterator;function di(t){return t===null||typeof t!="object"?null:(t=Id&&t[Id]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,pl;function Ti(t){if(pl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pl=e&&e[1]||""}return`
`+pl+t}var ml=!1;function gl(t,e){if(!t||ml)return"";ml=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{ml=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ti(t):""}function q0(t){switch(t.tag){case 5:return Ti(t.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 2:case 15:return t=gl(t.type,!1),t;case 11:return t=gl(t.type.render,!1),t;case 1:return t=gl(t.type,!0),t;default:return""}}function lu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wr:return"Fragment";case yr:return"Portal";case ou:return"Profiler";case Pc:return"StrictMode";case su:return"Suspense";case au:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yp:return(t.displayName||"Context")+".Consumer";case Qp:return(t._context.displayName||"Context")+".Provider";case Lc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $c:return e=t.displayName||null,e!==null?e:lu(t.type)||"Memo";case ln:e=t._payload,t=t._init;try{return lu(t(e))}catch{}}return null}function W0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lu(e);case 8:return e===Pc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Q0(t){var e=Zp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qo(t){t._valueTracker||(t._valueTracker=Q0(t))}function em(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Zp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ms(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uu(t,e){var n=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Dn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tm(t,e){e=e.checked,e!=null&&Mc(t,"checked",e,!1)}function cu(t,e){tm(t,e);var n=Dn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hu(t,e.type,n):e.hasOwnProperty("defaultValue")&&hu(t,e.type,Dn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hu(t,e,n){(e!=="number"||Ms(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ci=Array.isArray;function _r(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Dn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function du(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(Ci(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Dn(n)}}function nm(t,e){var n=Dn(e.value),r=Dn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ad(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wo,im=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y0=["Webkit","ms","Moz","O"];Object.keys(Oi).forEach(function(t){Y0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oi[e]=Oi[t]})});function om(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Oi.hasOwnProperty(t)&&Oi[t]?(""+e).trim():e+"px"}function sm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=om(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var X0=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pu(t,e){if(e){if(X0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function mu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=null;function Uc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vu=null,Rr=null,Mr=null;function xd(t){if(t=Do(t)){if(typeof vu!="function")throw Error(S(280));var e=t.stateNode;e&&(e=ka(e),vu(t.stateNode,t.type,e))}}function am(t){Rr?Mr?Mr.push(t):Mr=[t]:Rr=t}function lm(){if(Rr){var t=Rr,e=Mr;if(Mr=Rr=null,xd(t),e)for(t=0;t<e.length;t++)xd(e[t])}}function um(t,e){return t(e)}function cm(){}var vl=!1;function hm(t,e,n){if(vl)return t(e,n);vl=!0;try{return um(t,e,n)}finally{vl=!1,(Rr!==null||Mr!==null)&&(cm(),lm())}}function Ji(t,e){var n=t.stateNode;if(n===null)return null;var r=ka(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var yu=!1;if(Yt)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){yu=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{yu=!1}function Z0(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var _i=!1,Ps=null,Ls=!1,wu=null,e1={onError:function(t){_i=!0,Ps=t}};function t1(t,e,n,r,i,o,s,a,l){_i=!1,Ps=null,Z0.apply(e1,arguments)}function n1(t,e,n,r,i,o,s,a,l){if(t1.apply(this,arguments),_i){if(_i){var u=Ps;_i=!1,Ps=null}else throw Error(S(198));Ls||(Ls=!0,wu=u)}}function cr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Od(t){if(cr(t)!==t)throw Error(S(188))}function r1(t){var e=t.alternate;if(!e){if(e=cr(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Od(i),t;if(o===r)return Od(i),e;o=o.sibling}throw Error(S(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function fm(t){return t=r1(t),t!==null?pm(t):null}function pm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pm(t);if(e!==null)return e;t=t.sibling}return null}var mm=dt.unstable_scheduleCallback,_d=dt.unstable_cancelCallback,i1=dt.unstable_shouldYield,o1=dt.unstable_requestPaint,me=dt.unstable_now,s1=dt.unstable_getCurrentPriorityLevel,bc=dt.unstable_ImmediatePriority,gm=dt.unstable_UserBlockingPriority,$s=dt.unstable_NormalPriority,a1=dt.unstable_LowPriority,vm=dt.unstable_IdlePriority,Sa=null,bt=null;function l1(t){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Sa,t,void 0,(t.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:h1,u1=Math.log,c1=Math.LN2;function h1(t){return t>>>=0,t===0?32:31-(u1(t)/c1|0)|0}var Qo=64,Yo=4194304;function Ii(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Us(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ii(a):(o&=s,o!==0&&(r=Ii(o)))}else s=n&~i,s!==0?r=Ii(s):o!==0&&(r=Ii(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-At(e),i=1<<n,r|=t[n],e&=~i;return r}function d1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-At(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=d1(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Eu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ym(){var t=Qo;return Qo<<=1,!(Qo&4194240)&&(Qo=64),t}function yl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ko(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-At(e),t[e]=n}function p1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-At(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Bc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-At(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var W=0;function wm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Em,Fc,Sm,Tm,Cm,Su=!1,Xo=[],mn=null,gn=null,vn=null,Ki=new Map,qi=new Map,cn=[],m1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rd(t,e){switch(t){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":Ki.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qi.delete(e.pointerId)}}function pi(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Do(e),e!==null&&Fc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function g1(t,e,n,r,i){switch(e){case"focusin":return mn=pi(mn,t,e,n,r,i),!0;case"dragenter":return gn=pi(gn,t,e,n,r,i),!0;case"mouseover":return vn=pi(vn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ki.set(o,pi(Ki.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,qi.set(o,pi(qi.get(o)||null,t,e,n,r,i)),!0}return!1}function Im(t){var e=Hn(t.target);if(e!==null){var n=cr(e);if(n!==null){if(e=n.tag,e===13){if(e=dm(n),e!==null){t.blockedOn=e,Cm(t.priority,function(){Sm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Es(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gu=r,n.target.dispatchEvent(r),gu=null}else return e=Do(n),e!==null&&Fc(e),t.blockedOn=n,!1;e.shift()}return!0}function Md(t,e,n){Es(t)&&n.delete(e)}function v1(){Su=!1,mn!==null&&Es(mn)&&(mn=null),gn!==null&&Es(gn)&&(gn=null),vn!==null&&Es(vn)&&(vn=null),Ki.forEach(Md),qi.forEach(Md)}function mi(t,e){t.blockedOn===e&&(t.blockedOn=null,Su||(Su=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,v1)))}function Wi(t){function e(i){return mi(i,t)}if(0<Xo.length){mi(Xo[0],t);for(var n=1;n<Xo.length;n++){var r=Xo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mn!==null&&mi(mn,t),gn!==null&&mi(gn,t),vn!==null&&mi(vn,t),Ki.forEach(e),qi.forEach(e),n=0;n<cn.length;n++)r=cn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cn.length&&(n=cn[0],n.blockedOn===null);)Im(n),n.blockedOn===null&&cn.shift()}var Pr=sn.ReactCurrentBatchConfig,bs=!0;function y1(t,e,n,r){var i=W,o=Pr.transition;Pr.transition=null;try{W=1,zc(t,e,n,r)}finally{W=i,Pr.transition=o}}function w1(t,e,n,r){var i=W,o=Pr.transition;Pr.transition=null;try{W=4,zc(t,e,n,r)}finally{W=i,Pr.transition=o}}function zc(t,e,n,r){if(bs){var i=Tu(t,e,n,r);if(i===null)Al(t,e,r,Bs,n),Rd(t,r);else if(g1(i,t,e,n,r))r.stopPropagation();else if(Rd(t,r),e&4&&-1<m1.indexOf(t)){for(;i!==null;){var o=Do(i);if(o!==null&&Em(o),o=Tu(t,e,n,r),o===null&&Al(t,e,r,Bs,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Al(t,e,r,null,n)}}var Bs=null;function Tu(t,e,n,r){if(Bs=null,t=Uc(r),t=Hn(t),t!==null)if(e=cr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bs=t,null}function km(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s1()){case bc:return 1;case gm:return 4;case $s:case a1:return 16;case vm:return 536870912;default:return 16}default:return 16}}var dn=null,Vc=null,Ss=null;function Nm(){if(Ss)return Ss;var t,e=Vc,n=e.length,r,i="value"in dn?dn.value:dn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ss=i.slice(t,1<r?1-r:void 0)}function Ts(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zo(){return!0}function Pd(){return!1}function mt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zo:Pd,this.isPropagationStopped=Pd,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),e}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=mt(ii),No=ue({},ii,{view:0,detail:0}),E1=mt(No),wl,El,gi,Ta=ue({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(wl=t.screenX-gi.screenX,El=t.screenY-gi.screenY):El=wl=0,gi=t),wl)},movementY:function(t){return"movementY"in t?t.movementY:El}}),Ld=mt(Ta),S1=ue({},Ta,{dataTransfer:0}),T1=mt(S1),C1=ue({},No,{relatedTarget:0}),Sl=mt(C1),I1=ue({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),k1=mt(I1),N1=ue({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),D1=mt(N1),A1=ue({},ii,{data:0}),$d=mt(A1),x1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_1[t])?!!e[t]:!1}function Hc(){return R1}var M1=ue({},No,{key:function(t){if(t.key){var e=x1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ts(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(t){return t.type==="keypress"?Ts(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ts(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),P1=mt(M1),L1=ue({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ud=mt(L1),$1=ue({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),U1=mt($1),b1=ue({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),B1=mt(b1),F1=ue({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),z1=mt(F1),V1=[9,13,27,32],Gc=Yt&&"CompositionEvent"in window,Ri=null;Yt&&"documentMode"in document&&(Ri=document.documentMode);var j1=Yt&&"TextEvent"in window&&!Ri,Dm=Yt&&(!Gc||Ri&&8<Ri&&11>=Ri),bd=String.fromCharCode(32),Bd=!1;function Am(t,e){switch(t){case"keyup":return V1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Er=!1;function H1(t,e){switch(t){case"compositionend":return xm(e);case"keypress":return e.which!==32?null:(Bd=!0,bd);case"textInput":return t=e.data,t===bd&&Bd?null:t;default:return null}}function G1(t,e){if(Er)return t==="compositionend"||!Gc&&Am(t,e)?(t=Nm(),Ss=Vc=dn=null,Er=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dm&&e.locale!=="ko"?null:e.data;default:return null}}var J1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!J1[t.type]:e==="textarea"}function Om(t,e,n,r){am(r),e=Fs(e,"onChange"),0<e.length&&(n=new jc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mi=null,Qi=null;function K1(t){zm(t,0)}function Ca(t){var e=Cr(t);if(em(e))return t}function q1(t,e){if(t==="change")return e}var _m=!1;if(Yt){var Tl;if(Yt){var Cl="oninput"in document;if(!Cl){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),Cl=typeof zd.oninput=="function"}Tl=Cl}else Tl=!1;_m=Tl&&(!document.documentMode||9<document.documentMode)}function Vd(){Mi&&(Mi.detachEvent("onpropertychange",Rm),Qi=Mi=null)}function Rm(t){if(t.propertyName==="value"&&Ca(Qi)){var e=[];Om(e,Qi,t,Uc(t)),hm(K1,e)}}function W1(t,e,n){t==="focusin"?(Vd(),Mi=e,Qi=n,Mi.attachEvent("onpropertychange",Rm)):t==="focusout"&&Vd()}function Q1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ca(Qi)}function Y1(t,e){if(t==="click")return Ca(e)}function X1(t,e){if(t==="input"||t==="change")return Ca(e)}function Z1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ot=typeof Object.is=="function"?Object.is:Z1;function Yi(t,e){if(Ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!iu.call(e,i)||!Ot(t[i],e[i]))return!1}return!0}function jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hd(t,e){var n=jd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jd(n)}}function Mm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Pm(){for(var t=window,e=Ms();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ms(t.document)}return e}function Jc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ew(t){var e=Pm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Mm(n.ownerDocument.documentElement,n)){if(r!==null&&Jc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Hd(n,o);var s=Hd(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tw=Yt&&"documentMode"in document&&11>=document.documentMode,Sr=null,Cu=null,Pi=null,Iu=!1;function Gd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Iu||Sr==null||Sr!==Ms(r)||(r=Sr,"selectionStart"in r&&Jc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pi&&Yi(Pi,r)||(Pi=r,r=Fs(Cu,"onSelect"),0<r.length&&(e=new jc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Sr)))}function es(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Tr={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionend:es("Transition","TransitionEnd")},Il={},Lm={};Yt&&(Lm=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function Ia(t){if(Il[t])return Il[t];if(!Tr[t])return t;var e=Tr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lm)return Il[t]=e[n];return t}var $m=Ia("animationend"),Um=Ia("animationiteration"),bm=Ia("animationstart"),Bm=Ia("transitionend"),Fm=new Map,Jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(t,e){Fm.set(t,e),ur(e,[t])}for(var kl=0;kl<Jd.length;kl++){var Nl=Jd[kl],nw=Nl.toLowerCase(),rw=Nl[0].toUpperCase()+Nl.slice(1);Mn(nw,"on"+rw)}Mn($m,"onAnimationEnd");Mn(Um,"onAnimationIteration");Mn(bm,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(Bm,"onTransitionEnd");Vr("onMouseEnter",["mouseout","mouseover"]);Vr("onMouseLeave",["mouseout","mouseover"]);Vr("onPointerEnter",["pointerout","pointerover"]);Vr("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ki));function Kd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,n1(r,e,void 0,t),t.currentTarget=null}function zm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Kd(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Kd(i,a,u),o=l}}}if(Ls)throw t=wu,Ls=!1,wu=null,t}function te(t,e){var n=e[xu];n===void 0&&(n=e[xu]=new Set);var r=t+"__bubble";n.has(r)||(Vm(e,t,2,!1),n.add(r))}function Dl(t,e,n){var r=0;e&&(r|=4),Vm(n,t,r,e)}var ts="_reactListening"+Math.random().toString(36).slice(2);function Xi(t){if(!t[ts]){t[ts]=!0,Wp.forEach(function(n){n!=="selectionchange"&&(iw.has(n)||Dl(n,!1,t),Dl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ts]||(e[ts]=!0,Dl("selectionchange",!1,e))}}function Vm(t,e,n,r){switch(km(e)){case 1:var i=y1;break;case 4:i=w1;break;default:i=zc}n=i.bind(null,e,n,t),i=void 0,!yu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Al(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Hn(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}hm(function(){var u=o,c=Uc(n),h=[];e:{var d=Fm.get(t);if(d!==void 0){var g=jc,v=t;switch(t){case"keypress":if(Ts(n)===0)break e;case"keydown":case"keyup":g=P1;break;case"focusin":v="focus",g=Sl;break;case"focusout":v="blur",g=Sl;break;case"beforeblur":case"afterblur":g=Sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=T1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=U1;break;case $m:case Um:case bm:g=k1;break;case Bm:g=B1;break;case"scroll":g=E1;break;case"wheel":g=z1;break;case"copy":case"cut":case"paste":g=D1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ud}var y=(e&4)!==0,k=!y&&t==="scroll",p=y?d!==null?d+"Capture":null:d;y=[];for(var f=u,m;f!==null;){m=f;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,p!==null&&(w=Ji(f,p),w!=null&&y.push(Zi(f,w,m)))),k)break;f=f.return}0<y.length&&(d=new g(d,v,null,n,c),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==gu&&(v=n.relatedTarget||n.fromElement)&&(Hn(v)||v[Xt]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Hn(v):null,v!==null&&(k=cr(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=Ld,w="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(y=Ud,w="onPointerLeave",p="onPointerEnter",f="pointer"),k=g==null?d:Cr(g),m=v==null?d:Cr(v),d=new y(w,f+"leave",g,n,c),d.target=k,d.relatedTarget=m,w=null,Hn(c)===u&&(y=new y(p,f+"enter",v,n,c),y.target=m,y.relatedTarget=k,w=y),k=w,g&&v)t:{for(y=g,p=v,f=0,m=y;m;m=pr(m))f++;for(m=0,w=p;w;w=pr(w))m++;for(;0<f-m;)y=pr(y),f--;for(;0<m-f;)p=pr(p),m--;for(;f--;){if(y===p||p!==null&&y===p.alternate)break t;y=pr(y),p=pr(p)}y=null}else y=null;g!==null&&qd(h,d,g,y,!1),v!==null&&k!==null&&qd(h,k,v,y,!0)}}e:{if(d=u?Cr(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var I=q1;else if(Fd(d))if(_m)I=X1;else{I=Q1;var A=W1}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=Y1);if(I&&(I=I(t,u))){Om(h,I,n,c);break e}A&&A(t,d,u),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&hu(d,"number",d.value)}switch(A=u?Cr(u):window,t){case"focusin":(Fd(A)||A.contentEditable==="true")&&(Sr=A,Cu=u,Pi=null);break;case"focusout":Pi=Cu=Sr=null;break;case"mousedown":Iu=!0;break;case"contextmenu":case"mouseup":case"dragend":Iu=!1,Gd(h,n,c);break;case"selectionchange":if(tw)break;case"keydown":case"keyup":Gd(h,n,c)}var x;if(Gc)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Er?Am(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Dm&&n.locale!=="ko"&&(Er||_!=="onCompositionStart"?_==="onCompositionEnd"&&Er&&(x=Nm()):(dn=c,Vc="value"in dn?dn.value:dn.textContent,Er=!0)),A=Fs(u,_),0<A.length&&(_=new $d(_,t,null,n,c),h.push({event:_,listeners:A}),x?_.data=x:(x=xm(n),x!==null&&(_.data=x)))),(x=j1?H1(t,n):G1(t,n))&&(u=Fs(u,"onBeforeInput"),0<u.length&&(c=new $d("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=x))}zm(h,e)})}function Zi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ji(t,n),o!=null&&r.unshift(Zi(t,o,i)),o=Ji(t,e),o!=null&&r.push(Zi(t,o,i))),t=t.return}return r}function pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qd(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ji(n,o),l!=null&&s.unshift(Zi(n,l,a))):i||(l=Ji(n,o),l!=null&&s.push(Zi(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var ow=/\r\n?/g,sw=/\u0000|\uFFFD/g;function Wd(t){return(typeof t=="string"?t:""+t).replace(ow,`
`).replace(sw,"")}function ns(t,e,n){if(e=Wd(e),Wd(t)!==e&&n)throw Error(S(425))}function zs(){}var ku=null,Nu=null;function Du(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Au=typeof setTimeout=="function"?setTimeout:void 0,aw=typeof clearTimeout=="function"?clearTimeout:void 0,Qd=typeof Promise=="function"?Promise:void 0,lw=typeof queueMicrotask=="function"?queueMicrotask:typeof Qd<"u"?function(t){return Qd.resolve(null).then(t).catch(uw)}:Au;function uw(t){setTimeout(function(){throw t})}function xl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wi(e)}function yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+oi,eo="__reactProps$"+oi,Xt="__reactContainer$"+oi,xu="__reactEvents$"+oi,cw="__reactListeners$"+oi,hw="__reactHandles$"+oi;function Hn(t){var e=t[Pt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xt]||n[Pt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yd(t);t!==null;){if(n=t[Pt])return n;t=Yd(t)}return e}t=n,n=t.parentNode}return null}function Do(t){return t=t[Pt]||t[Xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function ka(t){return t[eo]||null}var Ou=[],Ir=-1;function Pn(t){return{current:t}}function re(t){0>Ir||(t.current=Ou[Ir],Ou[Ir]=null,Ir--)}function Z(t,e){Ir++,Ou[Ir]=t.current,t.current=e}var An={},Je=Pn(An),rt=Pn(!1),Zn=An;function jr(t,e){var n=t.type.contextTypes;if(!n)return An;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function it(t){return t=t.childContextTypes,t!=null}function Vs(){re(rt),re(Je)}function Xd(t,e,n){if(Je.current!==An)throw Error(S(168));Z(Je,e),Z(rt,n)}function jm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(S(108,W0(t)||"Unknown",i));return ue({},n,r)}function js(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||An,Zn=Je.current,Z(Je,t),Z(rt,rt.current),!0}function Zd(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=jm(t,e,Zn),r.__reactInternalMemoizedMergedChildContext=t,re(rt),re(Je),Z(Je,t)):re(rt),Z(rt,n)}var Jt=null,Na=!1,Ol=!1;function Hm(t){Jt===null?Jt=[t]:Jt.push(t)}function dw(t){Na=!0,Hm(t)}function Ln(){if(!Ol&&Jt!==null){Ol=!0;var t=0,e=W;try{var n=Jt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jt=null,Na=!1}catch(i){throw Jt!==null&&(Jt=Jt.slice(t+1)),mm(bc,Ln),i}finally{W=e,Ol=!1}}return null}var kr=[],Nr=0,Hs=null,Gs=0,vt=[],yt=0,er=null,Kt=1,qt="";function zn(t,e){kr[Nr++]=Gs,kr[Nr++]=Hs,Hs=t,Gs=e}function Gm(t,e,n){vt[yt++]=Kt,vt[yt++]=qt,vt[yt++]=er,er=t;var r=Kt;t=qt;var i=32-At(r)-1;r&=~(1<<i),n+=1;var o=32-At(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Kt=1<<32-At(e)+i|n<<i|r,qt=o+t}else Kt=1<<o|n<<i|r,qt=t}function Kc(t){t.return!==null&&(zn(t,1),Gm(t,1,0))}function qc(t){for(;t===Hs;)Hs=kr[--Nr],kr[Nr]=null,Gs=kr[--Nr],kr[Nr]=null;for(;t===er;)er=vt[--yt],vt[yt]=null,qt=vt[--yt],vt[yt]=null,Kt=vt[--yt],vt[yt]=null}var ht=null,ut=null,oe=!1,Dt=null;function Jm(t,e){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ef(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ht=t,ut=yn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ht=t,ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=er!==null?{id:Kt,overflow:qt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ht=t,ut=null,!0):!1;default:return!1}}function _u(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ru(t){if(oe){var e=ut;if(e){var n=e;if(!ef(t,e)){if(_u(t))throw Error(S(418));e=yn(n.nextSibling);var r=ht;e&&ef(t,e)?Jm(r,n):(t.flags=t.flags&-4097|2,oe=!1,ht=t)}}else{if(_u(t))throw Error(S(418));t.flags=t.flags&-4097|2,oe=!1,ht=t}}}function tf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ht=t}function rs(t){if(t!==ht)return!1;if(!oe)return tf(t),oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Du(t.type,t.memoizedProps)),e&&(e=ut)){if(_u(t))throw Km(),Error(S(418));for(;e;)Jm(t,e),e=yn(e.nextSibling)}if(tf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ut=yn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ut=null}}else ut=ht?yn(t.stateNode.nextSibling):null;return!0}function Km(){for(var t=ut;t;)t=yn(t.nextSibling)}function Hr(){ut=ht=null,oe=!1}function Wc(t){Dt===null?Dt=[t]:Dt.push(t)}var fw=sn.ReactCurrentBatchConfig;function vi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function is(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nf(t){var e=t._init;return e(t._payload)}function qm(t){function e(p,f){if(t){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function n(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=Tn(p,f),p.index=0,p.sibling=null,p}function o(p,f,m){return p.index=m,t?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,f,m,w){return f===null||f.tag!==6?(f=Ul(m,p.mode,w),f.return=p,f):(f=i(f,m),f.return=p,f)}function l(p,f,m,w){var I=m.type;return I===wr?c(p,f,m.props.children,w,m.key):f!==null&&(f.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ln&&nf(I)===f.type)?(w=i(f,m.props),w.ref=vi(p,f,m),w.return=p,w):(w=xs(m.type,m.key,m.props,null,p.mode,w),w.ref=vi(p,f,m),w.return=p,w)}function u(p,f,m,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=bl(m,p.mode,w),f.return=p,f):(f=i(f,m.children||[]),f.return=p,f)}function c(p,f,m,w,I){return f===null||f.tag!==7?(f=Yn(m,p.mode,w,I),f.return=p,f):(f=i(f,m),f.return=p,f)}function h(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ul(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ko:return m=xs(f.type,f.key,f.props,null,p.mode,m),m.ref=vi(p,null,f),m.return=p,m;case yr:return f=bl(f,p.mode,m),f.return=p,f;case ln:var w=f._init;return h(p,w(f._payload),m)}if(Ci(f)||di(f))return f=Yn(f,p.mode,m,null),f.return=p,f;is(p,f)}return null}function d(p,f,m,w){var I=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return I!==null?null:a(p,f,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ko:return m.key===I?l(p,f,m,w):null;case yr:return m.key===I?u(p,f,m,w):null;case ln:return I=m._init,d(p,f,I(m._payload),w)}if(Ci(m)||di(m))return I!==null?null:c(p,f,m,w,null);is(p,m)}return null}function g(p,f,m,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(m)||null,a(f,p,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ko:return p=p.get(w.key===null?m:w.key)||null,l(f,p,w,I);case yr:return p=p.get(w.key===null?m:w.key)||null,u(f,p,w,I);case ln:var A=w._init;return g(p,f,m,A(w._payload),I)}if(Ci(w)||di(w))return p=p.get(m)||null,c(f,p,w,I,null);is(f,w)}return null}function v(p,f,m,w){for(var I=null,A=null,x=f,_=f=0,Y=null;x!==null&&_<m.length;_++){x.index>_?(Y=x,x=null):Y=x.sibling;var z=d(p,x,m[_],w);if(z===null){x===null&&(x=Y);break}t&&x&&z.alternate===null&&e(p,x),f=o(z,f,_),A===null?I=z:A.sibling=z,A=z,x=Y}if(_===m.length)return n(p,x),oe&&zn(p,_),I;if(x===null){for(;_<m.length;_++)x=h(p,m[_],w),x!==null&&(f=o(x,f,_),A===null?I=x:A.sibling=x,A=x);return oe&&zn(p,_),I}for(x=r(p,x);_<m.length;_++)Y=g(x,p,_,m[_],w),Y!==null&&(t&&Y.alternate!==null&&x.delete(Y.key===null?_:Y.key),f=o(Y,f,_),A===null?I=Y:A.sibling=Y,A=Y);return t&&x.forEach(function(at){return e(p,at)}),oe&&zn(p,_),I}function y(p,f,m,w){var I=di(m);if(typeof I!="function")throw Error(S(150));if(m=I.call(m),m==null)throw Error(S(151));for(var A=I=null,x=f,_=f=0,Y=null,z=m.next();x!==null&&!z.done;_++,z=m.next()){x.index>_?(Y=x,x=null):Y=x.sibling;var at=d(p,x,z.value,w);if(at===null){x===null&&(x=Y);break}t&&x&&at.alternate===null&&e(p,x),f=o(at,f,_),A===null?I=at:A.sibling=at,A=at,x=Y}if(z.done)return n(p,x),oe&&zn(p,_),I;if(x===null){for(;!z.done;_++,z=m.next())z=h(p,z.value,w),z!==null&&(f=o(z,f,_),A===null?I=z:A.sibling=z,A=z);return oe&&zn(p,_),I}for(x=r(p,x);!z.done;_++,z=m.next())z=g(x,p,_,z.value,w),z!==null&&(t&&z.alternate!==null&&x.delete(z.key===null?_:z.key),f=o(z,f,_),A===null?I=z:A.sibling=z,A=z);return t&&x.forEach(function(Ht){return e(p,Ht)}),oe&&zn(p,_),I}function k(p,f,m,w){if(typeof m=="object"&&m!==null&&m.type===wr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ko:e:{for(var I=m.key,A=f;A!==null;){if(A.key===I){if(I=m.type,I===wr){if(A.tag===7){n(p,A.sibling),f=i(A,m.props.children),f.return=p,p=f;break e}}else if(A.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ln&&nf(I)===A.type){n(p,A.sibling),f=i(A,m.props),f.ref=vi(p,A,m),f.return=p,p=f;break e}n(p,A);break}else e(p,A);A=A.sibling}m.type===wr?(f=Yn(m.props.children,p.mode,w,m.key),f.return=p,p=f):(w=xs(m.type,m.key,m.props,null,p.mode,w),w.ref=vi(p,f,m),w.return=p,p=w)}return s(p);case yr:e:{for(A=m.key;f!==null;){if(f.key===A)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(p,f.sibling),f=i(f,m.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else e(p,f);f=f.sibling}f=bl(m,p.mode,w),f.return=p,p=f}return s(p);case ln:return A=m._init,k(p,f,A(m._payload),w)}if(Ci(m))return v(p,f,m,w);if(di(m))return y(p,f,m,w);is(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,m),f.return=p,p=f):(n(p,f),f=Ul(m,p.mode,w),f.return=p,p=f),s(p)):n(p,f)}return k}var Gr=qm(!0),Wm=qm(!1),Js=Pn(null),Ks=null,Dr=null,Qc=null;function Yc(){Qc=Dr=Ks=null}function Xc(t){var e=Js.current;re(Js),t._currentValue=e}function Mu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lr(t,e){Ks=t,Qc=Dr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nt=!0),t.firstContext=null)}function Tt(t){var e=t._currentValue;if(Qc!==t)if(t={context:t,memoizedValue:e,next:null},Dr===null){if(Ks===null)throw Error(S(308));Dr=t,Ks.dependencies={lanes:0,firstContext:t}}else Dr=Dr.next=t;return e}var Gn=null;function Zc(t){Gn===null?Gn=[t]:Gn.push(t)}function Qm(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Zc(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zt(t,r)}function Zt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var un=!1;function eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ym(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zt(t,n)}return i=r.interleaved,i===null?(e.next=e,Zc(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zt(t,n)}function Cs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bc(t,n)}}function rf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qs(t,e,n,r){var i=t.updateQueue;un=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,g=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(d=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(g,h,d);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,d=typeof v=="function"?v.call(g,h,d):v,d==null)break e;h=ue({},h,d);break e;case 2:un=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);nr|=s,t.lanes=s,t.memoizedState=h}}function of(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(S(191,i));i.call(r)}}}var Ao={},Bt=Pn(Ao),to=Pn(Ao),no=Pn(Ao);function Jn(t){if(t===Ao)throw Error(S(174));return t}function th(t,e){switch(Z(no,e),Z(to,t),Z(Bt,Ao),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fu(e,t)}re(Bt),Z(Bt,e)}function Jr(){re(Bt),re(to),re(no)}function Xm(t){Jn(no.current);var e=Jn(Bt.current),n=fu(e,t.type);e!==n&&(Z(to,t),Z(Bt,n))}function nh(t){to.current===t&&(re(Bt),re(to))}var ae=Pn(0);function Ws(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _l=[];function rh(){for(var t=0;t<_l.length;t++)_l[t]._workInProgressVersionPrimary=null;_l.length=0}var Is=sn.ReactCurrentDispatcher,Rl=sn.ReactCurrentBatchConfig,tr=0,le=null,Ee=null,Ne=null,Qs=!1,Li=!1,ro=0,pw=0;function $e(){throw Error(S(321))}function ih(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ot(t[n],e[n]))return!1;return!0}function oh(t,e,n,r,i,o){if(tr=o,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Is.current=t===null||t.memoizedState===null?yw:ww,t=n(r,i),Li){o=0;do{if(Li=!1,ro=0,25<=o)throw Error(S(301));o+=1,Ne=Ee=null,e.updateQueue=null,Is.current=Ew,t=n(r,i)}while(Li)}if(Is.current=Ys,e=Ee!==null&&Ee.next!==null,tr=0,Ne=Ee=le=null,Qs=!1,e)throw Error(S(300));return t}function sh(){var t=ro!==0;return ro=0,t}function Mt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?le.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function Ct(){if(Ee===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Ne===null?le.memoizedState:Ne.next;if(e!==null)Ne=e,Ee=t;else{if(t===null)throw Error(S(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ne===null?le.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function io(t,e){return typeof e=="function"?e(t):e}function Ml(t){var e=Ct(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=Ee,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((tr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,le.lanes|=c,nr|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Ot(r,e.memoizedState)||(nt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,le.lanes|=o,nr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pl(t){var e=Ct(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Ot(o,e.memoizedState)||(nt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Zm(){}function eg(t,e){var n=le,r=Ct(),i=e(),o=!Ot(r.memoizedState,i);if(o&&(r.memoizedState=i,nt=!0),r=r.queue,ah(rg.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,oo(9,ng.bind(null,n,r,i,e),void 0,null),De===null)throw Error(S(349));tr&30||tg(n,e,i)}return i}function tg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ng(t,e,n,r){e.value=n,e.getSnapshot=r,ig(e)&&og(t)}function rg(t,e,n){return n(function(){ig(e)&&og(t)})}function ig(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ot(t,n)}catch{return!0}}function og(t){var e=Zt(t,1);e!==null&&xt(e,t,1,-1)}function sf(t){var e=Mt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:t},e.queue=t,t=t.dispatch=vw.bind(null,le,t),[e.memoizedState,t]}function oo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sg(){return Ct().memoizedState}function ks(t,e,n,r){var i=Mt();le.flags|=t,i.memoizedState=oo(1|e,n,void 0,r===void 0?null:r)}function Da(t,e,n,r){var i=Ct();r=r===void 0?null:r;var o=void 0;if(Ee!==null){var s=Ee.memoizedState;if(o=s.destroy,r!==null&&ih(r,s.deps)){i.memoizedState=oo(e,n,o,r);return}}le.flags|=t,i.memoizedState=oo(1|e,n,o,r)}function af(t,e){return ks(8390656,8,t,e)}function ah(t,e){return Da(2048,8,t,e)}function ag(t,e){return Da(4,2,t,e)}function lg(t,e){return Da(4,4,t,e)}function ug(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cg(t,e,n){return n=n!=null?n.concat([t]):null,Da(4,4,ug.bind(null,e,t),n)}function lh(){}function hg(t,e){var n=Ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ih(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dg(t,e){var n=Ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ih(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fg(t,e,n){return tr&21?(Ot(n,e)||(n=ym(),le.lanes|=n,nr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nt=!0),t.memoizedState=n)}function mw(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=Rl.transition;Rl.transition={};try{t(!1),e()}finally{W=n,Rl.transition=r}}function pg(){return Ct().memoizedState}function gw(t,e,n){var r=Sn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mg(t))gg(e,n);else if(n=Qm(t,e,n,r),n!==null){var i=Qe();xt(n,t,r,i),vg(n,e,r)}}function vw(t,e,n){var r=Sn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mg(t))gg(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ot(a,s)){var l=e.interleaved;l===null?(i.next=i,Zc(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Qm(t,e,i,r),n!==null&&(i=Qe(),xt(n,t,r,i),vg(n,e,r))}}function mg(t){var e=t.alternate;return t===le||e!==null&&e===le}function gg(t,e){Li=Qs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bc(t,n)}}var Ys={readContext:Tt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},yw={readContext:Tt,useCallback:function(t,e){return Mt().memoizedState=[t,e===void 0?null:e],t},useContext:Tt,useEffect:af,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ks(4194308,4,ug.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ks(4194308,4,t,e)},useInsertionEffect:function(t,e){return ks(4,2,t,e)},useMemo:function(t,e){var n=Mt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gw.bind(null,le,t),[r.memoizedState,t]},useRef:function(t){var e=Mt();return t={current:t},e.memoizedState=t},useState:sf,useDebugValue:lh,useDeferredValue:function(t){return Mt().memoizedState=t},useTransition:function(){var t=sf(!1),e=t[0];return t=mw.bind(null,t[1]),Mt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=le,i=Mt();if(oe){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),De===null)throw Error(S(349));tr&30||tg(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,af(rg.bind(null,r,o,t),[t]),r.flags|=2048,oo(9,ng.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Mt(),e=De.identifierPrefix;if(oe){var n=qt,r=Kt;n=(r&~(1<<32-At(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ro++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ww={readContext:Tt,useCallback:hg,useContext:Tt,useEffect:ah,useImperativeHandle:cg,useInsertionEffect:ag,useLayoutEffect:lg,useMemo:dg,useReducer:Ml,useRef:sg,useState:function(){return Ml(io)},useDebugValue:lh,useDeferredValue:function(t){var e=Ct();return fg(e,Ee.memoizedState,t)},useTransition:function(){var t=Ml(io)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:Zm,useSyncExternalStore:eg,useId:pg,unstable_isNewReconciler:!1},Ew={readContext:Tt,useCallback:hg,useContext:Tt,useEffect:ah,useImperativeHandle:cg,useInsertionEffect:ag,useLayoutEffect:lg,useMemo:dg,useReducer:Pl,useRef:sg,useState:function(){return Pl(io)},useDebugValue:lh,useDeferredValue:function(t){var e=Ct();return Ee===null?e.memoizedState=t:fg(e,Ee.memoizedState,t)},useTransition:function(){var t=Pl(io)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:Zm,useSyncExternalStore:eg,useId:pg,unstable_isNewReconciler:!1};function kt(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Aa={isMounted:function(t){return(t=t._reactInternals)?cr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qe(),i=Sn(t),o=Qt(r,i);o.payload=e,n!=null&&(o.callback=n),e=wn(t,o,i),e!==null&&(xt(e,t,i,r),Cs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qe(),i=Sn(t),o=Qt(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=wn(t,o,i),e!==null&&(xt(e,t,i,r),Cs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qe(),r=Sn(t),i=Qt(n,r);i.tag=2,e!=null&&(i.callback=e),e=wn(t,i,r),e!==null&&(xt(e,t,r,n),Cs(e,t,r))}};function lf(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Yi(n,r)||!Yi(i,o):!0}function yg(t,e,n){var r=!1,i=An,o=e.contextType;return typeof o=="object"&&o!==null?o=Tt(o):(i=it(e)?Zn:Je.current,r=e.contextTypes,o=(r=r!=null)?jr(t,i):An),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Aa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function uf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Aa.enqueueReplaceState(e,e.state,null)}function Lu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},eh(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Tt(o):(o=it(e)?Zn:Je.current,i.context=jr(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Pu(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Aa.enqueueReplaceState(i,i.state,null),qs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Kr(t,e){try{var n="",r=e;do n+=q0(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ll(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $u(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sw=typeof WeakMap=="function"?WeakMap:Map;function wg(t,e,n){n=Qt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zs||(Zs=!0,Ju=r),$u(t,e)},n}function Eg(t,e,n){n=Qt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$u(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){$u(t,e),typeof r!="function"&&(En===null?En=new Set([this]):En.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function cf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Sw;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Lw.bind(null,t,e,n),e.then(t,t))}function hf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function df(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qt(-1,1),e.tag=2,wn(n,e,1))),n.lanes|=1),t)}var Tw=sn.ReactCurrentOwner,nt=!1;function qe(t,e,n,r){e.child=t===null?Wm(e,null,n,r):Gr(e,t.child,n,r)}function ff(t,e,n,r,i){n=n.render;var o=e.ref;return Lr(e,i),r=oh(t,e,n,r,o,i),n=sh(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,en(t,e,i)):(oe&&n&&Kc(e),e.flags|=1,qe(t,e,r,i),e.child)}function pf(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!gh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Sg(t,e,o,r,i)):(t=xs(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Yi,n(s,r)&&t.ref===e.ref)return en(t,e,i)}return e.flags|=1,t=Tn(o,r),t.ref=e.ref,t.return=e,e.child=t}function Sg(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Yi(o,r)&&t.ref===e.ref)if(nt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(nt=!0);else return e.lanes=t.lanes,en(t,e,i)}return Uu(t,e,n,r,i)}function Tg(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(xr,lt),lt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(xr,lt),lt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Z(xr,lt),lt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Z(xr,lt),lt|=r;return qe(t,e,i,n),e.child}function Cg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uu(t,e,n,r,i){var o=it(n)?Zn:Je.current;return o=jr(e,o),Lr(e,i),n=oh(t,e,n,r,o,i),r=sh(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,en(t,e,i)):(oe&&r&&Kc(e),e.flags|=1,qe(t,e,n,i),e.child)}function mf(t,e,n,r,i){if(it(n)){var o=!0;js(e)}else o=!1;if(Lr(e,i),e.stateNode===null)Ns(t,e),yg(e,n,r),Lu(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tt(u):(u=it(n)?Zn:Je.current,u=jr(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&uf(e,s,r,u),un=!1;var d=e.memoizedState;s.state=d,qs(e,r,s,i),l=e.memoizedState,a!==r||d!==l||rt.current||un?(typeof c=="function"&&(Pu(e,n,c,r),l=e.memoizedState),(a=un||lf(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Ym(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:kt(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tt(l):(l=it(n)?Zn:Je.current,l=jr(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&uf(e,s,r,l),un=!1,d=e.memoizedState,s.state=d,qs(e,r,s,i);var v=e.memoizedState;a!==h||d!==v||rt.current||un?(typeof g=="function"&&(Pu(e,n,g,r),v=e.memoizedState),(u=un||lf(e,n,u,r,d,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return bu(t,e,n,r,o,i)}function bu(t,e,n,r,i,o){Cg(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Zd(e,n,!1),en(t,e,o);r=e.stateNode,Tw.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Gr(e,t.child,null,o),e.child=Gr(e,null,a,o)):qe(t,e,a,o),e.memoizedState=r.state,i&&Zd(e,n,!0),e.child}function Ig(t){var e=t.stateNode;e.pendingContext?Xd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xd(t,e.context,!1),th(t,e.containerInfo)}function gf(t,e,n,r,i){return Hr(),Wc(i),e.flags|=256,qe(t,e,n,r),e.child}var Bu={dehydrated:null,treeContext:null,retryLane:0};function Fu(t){return{baseLanes:t,cachePool:null,transitions:null}}function kg(t,e,n){var r=e.pendingProps,i=ae.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Z(ae,i&1),t===null)return Ru(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=_a(s,r,0,null),t=Yn(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Fu(n),e.memoizedState=Bu,t):uh(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Cw(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Tn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Tn(a,o):(o=Yn(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Bu,r}return o=t.child,t=o.sibling,r=Tn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uh(t,e){return e=_a({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function os(t,e,n,r){return r!==null&&Wc(r),Gr(e,t.child,null,n),t=uh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Cw(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ll(Error(S(422))),os(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=_a({mode:"visible",children:r.children},i,0,null),o=Yn(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Gr(e,t.child,null,s),e.child.memoizedState=Fu(s),e.memoizedState=Bu,o);if(!(e.mode&1))return os(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(S(419)),r=Ll(o,r,void 0),os(t,e,s,r)}if(a=(s&t.childLanes)!==0,nt||a){if(r=De,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Zt(t,i),xt(r,t,i,-1))}return mh(),r=Ll(Error(S(421))),os(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$w.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ut=yn(i.nextSibling),ht=e,oe=!0,Dt=null,t!==null&&(vt[yt++]=Kt,vt[yt++]=qt,vt[yt++]=er,Kt=t.id,qt=t.overflow,er=e),e=uh(e,r.children),e.flags|=4096,e)}function vf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mu(t.return,e,n)}function $l(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ng(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(qe(t,e,r.children,n),r=ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vf(t,n,e);else if(t.tag===19)vf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Z(ae,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ws(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$l(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ws(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$l(e,!0,n,null,o);break;case"together":$l(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ns(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function en(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=Tn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Tn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Iw(t,e,n){switch(e.tag){case 3:Ig(e),Hr();break;case 5:Xm(e);break;case 1:it(e.type)&&js(e);break;case 4:th(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Z(Js,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Z(ae,ae.current&1),e.flags|=128,null):n&e.child.childLanes?kg(t,e,n):(Z(ae,ae.current&1),t=en(t,e,n),t!==null?t.sibling:null);Z(ae,ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ng(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Z(ae,ae.current),r)break;return null;case 22:case 23:return e.lanes=0,Tg(t,e,n)}return en(t,e,n)}var Dg,zu,Ag,xg;Dg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zu=function(){};Ag=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jn(Bt.current);var o=null;switch(n){case"input":i=uu(t,i),r=uu(t,r),o=[];break;case"select":i=ue({},i,{value:void 0}),r=ue({},r,{value:void 0}),o=[];break;case"textarea":i=du(t,i),r=du(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zs)}pu(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&te("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};xg=function(t,e,n,r){n!==r&&(e.flags|=4)};function yi(t,e){if(!oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ue(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kw(t,e,n){var r=e.pendingProps;switch(qc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(e),null;case 1:return it(e.type)&&Vs(),Ue(e),null;case 3:return r=e.stateNode,Jr(),re(rt),re(Je),rh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dt!==null&&(Wu(Dt),Dt=null))),zu(t,e),Ue(e),null;case 5:nh(e);var i=Jn(no.current);if(n=e.type,t!==null&&e.stateNode!=null)Ag(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return Ue(e),null}if(t=Jn(Bt.current),rs(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Pt]=e,r[eo]=o,t=(e.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(i=0;i<ki.length;i++)te(ki[i],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":kd(r,o),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},te("invalid",r);break;case"textarea":Dd(r,o),te("invalid",r)}pu(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ns(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ns(r.textContent,a,t),i=["children",""+a]):Hi.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&te("scroll",r)}switch(n){case"input":qo(r),Nd(r,o,!0);break;case"textarea":qo(r),Ad(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=zs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Pt]=e,t[eo]=r,Dg(t,e,!1,!1),e.stateNode=t;e:{switch(s=mu(n,r),n){case"dialog":te("cancel",t),te("close",t),i=r;break;case"iframe":case"object":case"embed":te("load",t),i=r;break;case"video":case"audio":for(i=0;i<ki.length;i++)te(ki[i],t);i=r;break;case"source":te("error",t),i=r;break;case"img":case"image":case"link":te("error",t),te("load",t),i=r;break;case"details":te("toggle",t),i=r;break;case"input":kd(t,r),i=uu(t,r),te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ue({},r,{value:void 0}),te("invalid",t);break;case"textarea":Dd(t,r),i=du(t,r),te("invalid",t);break;default:i=r}pu(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?sm(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&im(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gi(t,l):typeof l=="number"&&Gi(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hi.hasOwnProperty(o)?l!=null&&o==="onScroll"&&te("scroll",t):l!=null&&Mc(t,o,l,s))}switch(n){case"input":qo(t),Nd(t,r,!1);break;case"textarea":qo(t),Ad(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Dn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?_r(t,!!r.multiple,o,!1):r.defaultValue!=null&&_r(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ue(e),null;case 6:if(t&&e.stateNode!=null)xg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=Jn(no.current),Jn(Bt.current),rs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pt]=e,(o=r.nodeValue!==n)&&(t=ht,t!==null))switch(t.tag){case 3:ns(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ns(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pt]=e,e.stateNode=r}return Ue(e),null;case 13:if(re(ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(oe&&ut!==null&&e.mode&1&&!(e.flags&128))Km(),Hr(),e.flags|=98560,o=!1;else if(o=rs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(S(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(S(317));o[Pt]=e}else Hr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ue(e),o=!1}else Dt!==null&&(Wu(Dt),Dt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ae.current&1?Te===0&&(Te=3):mh())),e.updateQueue!==null&&(e.flags|=4),Ue(e),null);case 4:return Jr(),zu(t,e),t===null&&Xi(e.stateNode.containerInfo),Ue(e),null;case 10:return Xc(e.type._context),Ue(e),null;case 17:return it(e.type)&&Vs(),Ue(e),null;case 19:if(re(ae),o=e.memoizedState,o===null)return Ue(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)yi(o,!1);else{if(Te!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ws(t),s!==null){for(e.flags|=128,yi(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Z(ae,ae.current&1|2),e.child}t=t.sibling}o.tail!==null&&me()>qr&&(e.flags|=128,r=!0,yi(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ws(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!oe)return Ue(e),null}else 2*me()-o.renderingStartTime>qr&&n!==1073741824&&(e.flags|=128,r=!0,yi(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=me(),e.sibling=null,n=ae.current,Z(ae,r?n&1|2:n&1),e):(Ue(e),null);case 22:case 23:return ph(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?lt&1073741824&&(Ue(e),e.subtreeFlags&6&&(e.flags|=8192)):Ue(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function Nw(t,e){switch(qc(e),e.tag){case 1:return it(e.type)&&Vs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jr(),re(rt),re(Je),rh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nh(e),null;case 13:if(re(ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));Hr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(ae),null;case 4:return Jr(),null;case 10:return Xc(e.type._context),null;case 22:case 23:return ph(),null;case 24:return null;default:return null}}var ss=!1,Fe=!1,Dw=typeof WeakSet=="function"?WeakSet:Set,D=null;function Ar(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(t,e,r)}else n.current=null}function Vu(t,e,n){try{n()}catch(r){he(t,e,r)}}var yf=!1;function Aw(t,e){if(ku=bs,t=Pm(),Jc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nu={focusedElem:t,selectionRange:n},bs=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,k=v.memoizedState,p=e.stateNode,f=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:kt(e.type,y),k);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(w){he(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return v=yf,yf=!1,v}function $i(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Vu(e,n,o)}i=i.next}while(i!==r)}}function xa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ju(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Og(t){var e=t.alternate;e!==null&&(t.alternate=null,Og(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pt],delete e[eo],delete e[xu],delete e[cw],delete e[hw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _g(t){return t.tag===5||t.tag===3||t.tag===4}function wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zs));else if(r!==4&&(t=t.child,t!==null))for(Hu(t,e,n),t=t.sibling;t!==null;)Hu(t,e,n),t=t.sibling}function Gu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gu(t,e,n),t=t.sibling;t!==null;)Gu(t,e,n),t=t.sibling}var Oe=null,Nt=!1;function an(t,e,n){for(n=n.child;n!==null;)Rg(t,e,n),n=n.sibling}function Rg(t,e,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Sa,n)}catch{}switch(n.tag){case 5:Fe||Ar(n,e);case 6:var r=Oe,i=Nt;Oe=null,an(t,e,n),Oe=r,Nt=i,Oe!==null&&(Nt?(t=Oe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(Nt?(t=Oe,n=n.stateNode,t.nodeType===8?xl(t.parentNode,n):t.nodeType===1&&xl(t,n),Wi(t)):xl(Oe,n.stateNode));break;case 4:r=Oe,i=Nt,Oe=n.stateNode.containerInfo,Nt=!0,an(t,e,n),Oe=r,Nt=i;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Vu(n,e,s),i=i.next}while(i!==r)}an(t,e,n);break;case 1:if(!Fe&&(Ar(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){he(n,e,a)}an(t,e,n);break;case 21:an(t,e,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,an(t,e,n),Fe=r):an(t,e,n);break;default:an(t,e,n)}}function Ef(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Dw),e.forEach(function(r){var i=Uw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function It(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Oe=a.stateNode,Nt=!1;break e;case 3:Oe=a.stateNode.containerInfo,Nt=!0;break e;case 4:Oe=a.stateNode.containerInfo,Nt=!0;break e}a=a.return}if(Oe===null)throw Error(S(160));Rg(o,s,i),Oe=null,Nt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){he(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Mg(e,t),e=e.sibling}function Mg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(It(e,t),Rt(t),r&4){try{$i(3,t,t.return),xa(3,t)}catch(y){he(t,t.return,y)}try{$i(5,t,t.return)}catch(y){he(t,t.return,y)}}break;case 1:It(e,t),Rt(t),r&512&&n!==null&&Ar(n,n.return);break;case 5:if(It(e,t),Rt(t),r&512&&n!==null&&Ar(n,n.return),t.flags&32){var i=t.stateNode;try{Gi(i,"")}catch(y){he(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&tm(i,o),mu(a,s);var u=mu(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?sm(i,h):c==="dangerouslySetInnerHTML"?im(i,h):c==="children"?Gi(i,h):Mc(i,c,h,u)}switch(a){case"input":cu(i,o);break;case"textarea":nm(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?_r(i,!!o.multiple,g,!1):d!==!!o.multiple&&(o.defaultValue!=null?_r(i,!!o.multiple,o.defaultValue,!0):_r(i,!!o.multiple,o.multiple?[]:"",!1))}i[eo]=o}catch(y){he(t,t.return,y)}}break;case 6:if(It(e,t),Rt(t),r&4){if(t.stateNode===null)throw Error(S(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){he(t,t.return,y)}}break;case 3:if(It(e,t),Rt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wi(e.containerInfo)}catch(y){he(t,t.return,y)}break;case 4:It(e,t),Rt(t);break;case 13:It(e,t),Rt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(dh=me())),r&4&&Ef(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Fe=(u=Fe)||c,It(e,t),Fe=u):It(e,t),Rt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(D=t,c=t.child;c!==null;){for(h=D=c;D!==null;){switch(d=D,g=d.child,d.tag){case 0:case 11:case 14:case 15:$i(4,d,d.return);break;case 1:Ar(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){he(r,n,y)}}break;case 5:Ar(d,d.return);break;case 22:if(d.memoizedState!==null){Tf(h);continue}}g!==null?(g.return=d,D=g):Tf(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=om("display",s))}catch(y){he(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){he(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:It(e,t),Rt(t),r&4&&Ef(t);break;case 21:break;default:It(e,t),Rt(t)}}function Rt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_g(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gi(i,""),r.flags&=-33);var o=wf(t);Gu(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=wf(t);Hu(t,a,s);break;default:throw Error(S(161))}}catch(l){he(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xw(t,e,n){D=t,Pg(t)}function Pg(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var i=D,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ss;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Fe;a=ss;var u=Fe;if(ss=s,(Fe=l)&&!u)for(D=i;D!==null;)s=D,l=s.child,s.tag===22&&s.memoizedState!==null?Cf(i):l!==null?(l.return=s,D=l):Cf(i);for(;o!==null;)D=o,Pg(o),o=o.sibling;D=i,ss=a,Fe=u}Sf(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,D=o):Sf(t)}}function Sf(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fe||xa(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&of(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}of(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Wi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}Fe||e.flags&512&&ju(e)}catch(d){he(e,e.return,d)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function Tf(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function Cf(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xa(4,e)}catch(l){he(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){he(e,i,l)}}var o=e.return;try{ju(e)}catch(l){he(e,o,l)}break;case 5:var s=e.return;try{ju(e)}catch(l){he(e,s,l)}}}catch(l){he(e,e.return,l)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var Ow=Math.ceil,Xs=sn.ReactCurrentDispatcher,ch=sn.ReactCurrentOwner,St=sn.ReactCurrentBatchConfig,J=0,De=null,we=null,Me=0,lt=0,xr=Pn(0),Te=0,so=null,nr=0,Oa=0,hh=0,Ui=null,et=null,dh=0,qr=1/0,Gt=null,Zs=!1,Ju=null,En=null,as=!1,fn=null,ea=0,bi=0,Ku=null,Ds=-1,As=0;function Qe(){return J&6?me():Ds!==-1?Ds:Ds=me()}function Sn(t){return t.mode&1?J&2&&Me!==0?Me&-Me:fw.transition!==null?(As===0&&(As=ym()),As):(t=W,t!==0||(t=window.event,t=t===void 0?16:km(t.type)),t):1}function xt(t,e,n,r){if(50<bi)throw bi=0,Ku=null,Error(S(185));ko(t,n,r),(!(J&2)||t!==De)&&(t===De&&(!(J&2)&&(Oa|=n),Te===4&&hn(t,Me)),ot(t,r),n===1&&J===0&&!(e.mode&1)&&(qr=me()+500,Na&&Ln()))}function ot(t,e){var n=t.callbackNode;f1(t,e);var r=Us(t,t===De?Me:0);if(r===0)n!==null&&_d(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_d(n),e===1)t.tag===0?dw(If.bind(null,t)):Hm(If.bind(null,t)),lw(function(){!(J&6)&&Ln()}),n=null;else{switch(wm(r)){case 1:n=bc;break;case 4:n=gm;break;case 16:n=$s;break;case 536870912:n=vm;break;default:n=$s}n=Vg(n,Lg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Lg(t,e){if(Ds=-1,As=0,J&6)throw Error(S(327));var n=t.callbackNode;if($r()&&t.callbackNode!==n)return null;var r=Us(t,t===De?Me:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ta(t,r);else{e=r;var i=J;J|=2;var o=Ug();(De!==t||Me!==e)&&(Gt=null,qr=me()+500,Qn(t,e));do try{Mw();break}catch(a){$g(t,a)}while(1);Yc(),Xs.current=o,J=i,we!==null?e=0:(De=null,Me=0,e=Te)}if(e!==0){if(e===2&&(i=Eu(t),i!==0&&(r=i,e=qu(t,i))),e===1)throw n=so,Qn(t,0),hn(t,r),ot(t,me()),n;if(e===6)hn(t,r);else{if(i=t.current.alternate,!(r&30)&&!_w(i)&&(e=ta(t,r),e===2&&(o=Eu(t),o!==0&&(r=o,e=qu(t,o))),e===1))throw n=so,Qn(t,0),hn(t,r),ot(t,me()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:Vn(t,et,Gt);break;case 3:if(hn(t,r),(r&130023424)===r&&(e=dh+500-me(),10<e)){if(Us(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qe(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Au(Vn.bind(null,t,et,Gt),e);break}Vn(t,et,Gt);break;case 4:if(hn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-At(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ow(r/1960))-r,10<r){t.timeoutHandle=Au(Vn.bind(null,t,et,Gt),r);break}Vn(t,et,Gt);break;case 5:Vn(t,et,Gt);break;default:throw Error(S(329))}}}return ot(t,me()),t.callbackNode===n?Lg.bind(null,t):null}function qu(t,e){var n=Ui;return t.current.memoizedState.isDehydrated&&(Qn(t,e).flags|=256),t=ta(t,e),t!==2&&(e=et,et=n,e!==null&&Wu(e)),t}function Wu(t){et===null?et=t:et.push.apply(et,t)}function _w(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ot(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hn(t,e){for(e&=~hh,e&=~Oa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-At(e),r=1<<n;t[n]=-1,e&=~r}}function If(t){if(J&6)throw Error(S(327));$r();var e=Us(t,0);if(!(e&1))return ot(t,me()),null;var n=ta(t,e);if(t.tag!==0&&n===2){var r=Eu(t);r!==0&&(e=r,n=qu(t,r))}if(n===1)throw n=so,Qn(t,0),hn(t,e),ot(t,me()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vn(t,et,Gt),ot(t,me()),null}function fh(t,e){var n=J;J|=1;try{return t(e)}finally{J=n,J===0&&(qr=me()+500,Na&&Ln())}}function rr(t){fn!==null&&fn.tag===0&&!(J&6)&&$r();var e=J;J|=1;var n=St.transition,r=W;try{if(St.transition=null,W=1,t)return t()}finally{W=r,St.transition=n,J=e,!(J&6)&&Ln()}}function ph(){lt=xr.current,re(xr)}function Qn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aw(n)),we!==null)for(n=we.return;n!==null;){var r=n;switch(qc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vs();break;case 3:Jr(),re(rt),re(Je),rh();break;case 5:nh(r);break;case 4:Jr();break;case 13:re(ae);break;case 19:re(ae);break;case 10:Xc(r.type._context);break;case 22:case 23:ph()}n=n.return}if(De=t,we=t=Tn(t.current,null),Me=lt=e,Te=0,so=null,hh=Oa=nr=0,et=Ui=null,Gn!==null){for(e=0;e<Gn.length;e++)if(n=Gn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Gn=null}return t}function $g(t,e){do{var n=we;try{if(Yc(),Is.current=Ys,Qs){for(var r=le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qs=!1}if(tr=0,Ne=Ee=le=null,Li=!1,ro=0,ch.current=null,n===null||n.return===null){Te=1,so=e,we=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Me,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=hf(s);if(g!==null){g.flags&=-257,df(g,s,a,o,e),g.mode&1&&cf(o,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){cf(o,u,e),mh();break e}l=Error(S(426))}}else if(oe&&a.mode&1){var k=hf(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),df(k,s,a,o,e),Wc(Kr(l,a));break e}}o=l=Kr(l,a),Te!==4&&(Te=2),Ui===null?Ui=[o]:Ui.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=wg(o,l,e);rf(o,p);break e;case 1:a=l;var f=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(En===null||!En.has(m)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=Eg(o,a,e);rf(o,w);break e}}o=o.return}while(o!==null)}Bg(n)}catch(I){e=I,we===n&&n!==null&&(we=n=n.return);continue}break}while(1)}function Ug(){var t=Xs.current;return Xs.current=Ys,t===null?Ys:t}function mh(){(Te===0||Te===3||Te===2)&&(Te=4),De===null||!(nr&268435455)&&!(Oa&268435455)||hn(De,Me)}function ta(t,e){var n=J;J|=2;var r=Ug();(De!==t||Me!==e)&&(Gt=null,Qn(t,e));do try{Rw();break}catch(i){$g(t,i)}while(1);if(Yc(),J=n,Xs.current=r,we!==null)throw Error(S(261));return De=null,Me=0,Te}function Rw(){for(;we!==null;)bg(we)}function Mw(){for(;we!==null&&!i1();)bg(we)}function bg(t){var e=zg(t.alternate,t,lt);t.memoizedProps=t.pendingProps,e===null?Bg(t):we=e,ch.current=null}function Bg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Nw(n,e),n!==null){n.flags&=32767,we=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Te=6,we=null;return}}else if(n=kw(n,e,lt),n!==null){we=n;return}if(e=e.sibling,e!==null){we=e;return}we=e=t}while(e!==null);Te===0&&(Te=5)}function Vn(t,e,n){var r=W,i=St.transition;try{St.transition=null,W=1,Pw(t,e,n,r)}finally{St.transition=i,W=r}return null}function Pw(t,e,n,r){do $r();while(fn!==null);if(J&6)throw Error(S(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(p1(t,o),t===De&&(we=De=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||as||(as=!0,Vg($s,function(){return $r(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=St.transition,St.transition=null;var s=W;W=1;var a=J;J|=4,ch.current=null,Aw(t,n),Mg(n,t),ew(Nu),bs=!!ku,Nu=ku=null,t.current=n,xw(n),o1(),J=a,W=s,St.transition=o}else t.current=n;if(as&&(as=!1,fn=t,ea=i),o=t.pendingLanes,o===0&&(En=null),l1(n.stateNode),ot(t,me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zs)throw Zs=!1,t=Ju,Ju=null,t;return ea&1&&t.tag!==0&&$r(),o=t.pendingLanes,o&1?t===Ku?bi++:(bi=0,Ku=t):bi=0,Ln(),null}function $r(){if(fn!==null){var t=wm(ea),e=St.transition,n=W;try{if(St.transition=null,W=16>t?16:t,fn===null)var r=!1;else{if(t=fn,fn=null,ea=0,J&6)throw Error(S(331));var i=J;for(J|=4,D=t.current;D!==null;){var o=D,s=o.child;if(D.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(D=u;D!==null;){var c=D;switch(c.tag){case 0:case 11:case 15:$i(8,c,o)}var h=c.child;if(h!==null)h.return=c,D=h;else for(;D!==null;){c=D;var d=c.sibling,g=c.return;if(Og(c),c===u){D=null;break}if(d!==null){d.return=g,D=d;break}D=g}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}D=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,D=s;else e:for(;D!==null;){if(o=D,o.flags&2048)switch(o.tag){case 0:case 11:case 15:$i(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,D=p;break e}D=o.return}}var f=t.current;for(D=f;D!==null;){s=D;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,D=m;else e:for(s=f;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xa(9,a)}}catch(I){he(a,a.return,I)}if(a===s){D=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,D=w;break e}D=a.return}}if(J=i,Ln(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Sa,t)}catch{}r=!0}return r}finally{W=n,St.transition=e}}return!1}function kf(t,e,n){e=Kr(n,e),e=wg(t,e,1),t=wn(t,e,1),e=Qe(),t!==null&&(ko(t,1,e),ot(t,e))}function he(t,e,n){if(t.tag===3)kf(t,t,n);else for(;e!==null;){if(e.tag===3){kf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(En===null||!En.has(r))){t=Kr(n,t),t=Eg(e,t,1),e=wn(e,t,1),t=Qe(),e!==null&&(ko(e,1,t),ot(e,t));break}}e=e.return}}function Lw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qe(),t.pingedLanes|=t.suspendedLanes&n,De===t&&(Me&n)===n&&(Te===4||Te===3&&(Me&130023424)===Me&&500>me()-dh?Qn(t,0):hh|=n),ot(t,e)}function Fg(t,e){e===0&&(t.mode&1?(e=Yo,Yo<<=1,!(Yo&130023424)&&(Yo=4194304)):e=1);var n=Qe();t=Zt(t,e),t!==null&&(ko(t,e,n),ot(t,n))}function $w(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fg(t,n)}function Uw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),Fg(t,n)}var zg;zg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rt.current)nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nt=!1,Iw(t,e,n);nt=!!(t.flags&131072)}else nt=!1,oe&&e.flags&1048576&&Gm(e,Gs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ns(t,e),t=e.pendingProps;var i=jr(e,Je.current);Lr(e,n),i=oh(null,e,r,t,i,n);var o=sh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,it(r)?(o=!0,js(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eh(e),i.updater=Aa,e.stateNode=i,i._reactInternals=e,Lu(e,r,t,n),e=bu(null,e,r,!0,o,n)):(e.tag=0,oe&&o&&Kc(e),qe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ns(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Bw(r),t=kt(r,t),i){case 0:e=Uu(null,e,r,t,n);break e;case 1:e=mf(null,e,r,t,n);break e;case 11:e=ff(null,e,r,t,n);break e;case 14:e=pf(null,e,r,kt(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kt(r,i),Uu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kt(r,i),mf(t,e,r,i,n);case 3:e:{if(Ig(e),t===null)throw Error(S(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Ym(t,e),qs(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Kr(Error(S(423)),e),e=gf(t,e,r,n,i);break e}else if(r!==i){i=Kr(Error(S(424)),e),e=gf(t,e,r,n,i);break e}else for(ut=yn(e.stateNode.containerInfo.firstChild),ht=e,oe=!0,Dt=null,n=Wm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),r===i){e=en(t,e,n);break e}qe(t,e,r,n)}e=e.child}return e;case 5:return Xm(e),t===null&&Ru(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Du(r,i)?s=null:o!==null&&Du(r,o)&&(e.flags|=32),Cg(t,e),qe(t,e,s,n),e.child;case 6:return t===null&&Ru(e),null;case 13:return kg(t,e,n);case 4:return th(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gr(e,null,r,n):qe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kt(r,i),ff(t,e,r,i,n);case 7:return qe(t,e,e.pendingProps,n),e.child;case 8:return qe(t,e,e.pendingProps.children,n),e.child;case 12:return qe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Z(Js,r._currentValue),r._currentValue=s,o!==null)if(Ot(o.value,s)){if(o.children===i.children&&!rt.current){e=en(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Qt(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Mu(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(S(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Mu(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}qe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lr(e,n),i=Tt(i),r=r(i),e.flags|=1,qe(t,e,r,n),e.child;case 14:return r=e.type,i=kt(r,e.pendingProps),i=kt(r.type,i),pf(t,e,r,i,n);case 15:return Sg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kt(r,i),Ns(t,e),e.tag=1,it(r)?(t=!0,js(e)):t=!1,Lr(e,n),yg(e,r,i),Lu(e,r,i,n),bu(null,e,r,!0,t,n);case 19:return Ng(t,e,n);case 22:return Tg(t,e,n)}throw Error(S(156,e.tag))};function Vg(t,e){return mm(t,e)}function bw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,e,n,r){return new bw(t,e,n,r)}function gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bw(t){if(typeof t=="function")return gh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lc)return 11;if(t===$c)return 14}return 2}function Tn(t,e){var n=t.alternate;return n===null?(n=Et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xs(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")gh(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case wr:return Yn(n.children,i,o,e);case Pc:s=8,i|=8;break;case ou:return t=Et(12,n,e,i|2),t.elementType=ou,t.lanes=o,t;case su:return t=Et(13,n,e,i),t.elementType=su,t.lanes=o,t;case au:return t=Et(19,n,e,i),t.elementType=au,t.lanes=o,t;case Xp:return _a(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qp:s=10;break e;case Yp:s=9;break e;case Lc:s=11;break e;case $c:s=14;break e;case ln:s=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=Et(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Yn(t,e,n,r){return t=Et(7,t,r,e),t.lanes=n,t}function _a(t,e,n,r){return t=Et(22,t,r,e),t.elementType=Xp,t.lanes=n,t.stateNode={isHidden:!1},t}function Ul(t,e,n){return t=Et(6,t,null,e),t.lanes=n,t}function bl(t,e,n){return e=Et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fw(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yl(0),this.expirationTimes=yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vh(t,e,n,r,i,o,s,a,l){return t=new Fw(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Et(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eh(o),t}function zw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jg(t){if(!t)return An;t=t._reactInternals;e:{if(cr(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(it(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(it(n))return jm(t,n,e)}return e}function Hg(t,e,n,r,i,o,s,a,l){return t=vh(n,r,!0,t,i,o,s,a,l),t.context=jg(null),n=t.current,r=Qe(),i=Sn(n),o=Qt(r,i),o.callback=e??null,wn(n,o,i),t.current.lanes=i,ko(t,i,r),ot(t,r),t}function Ra(t,e,n,r){var i=e.current,o=Qe(),s=Sn(i);return n=jg(n),e.context===null?e.context=n:e.pendingContext=n,e=Qt(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wn(i,e,s),t!==null&&(xt(t,i,s,o),Cs(t,i,s)),s}function na(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yh(t,e){Nf(t,e),(t=t.alternate)&&Nf(t,e)}function Vw(){return null}var Gg=typeof reportError=="function"?reportError:function(t){console.error(t)};function wh(t){this._internalRoot=t}Ma.prototype.render=wh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));Ra(t,e,null,null)};Ma.prototype.unmount=wh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rr(function(){Ra(null,t,null,null)}),e[Xt]=null}};function Ma(t){this._internalRoot=t}Ma.prototype.unstable_scheduleHydration=function(t){if(t){var e=Tm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cn.length&&e!==0&&e<cn[n].priority;n++);cn.splice(n,0,t),n===0&&Im(t)}};function Eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Df(){}function jw(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=na(s);o.call(u)}}var s=Hg(e,r,t,0,null,!1,!1,"",Df);return t._reactRootContainer=s,t[Xt]=s.current,Xi(t.nodeType===8?t.parentNode:t),rr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=na(l);a.call(u)}}var l=vh(t,0,!1,null,null,!1,!1,"",Df);return t._reactRootContainer=l,t[Xt]=l.current,Xi(t.nodeType===8?t.parentNode:t),rr(function(){Ra(e,l,n,r)}),l}function La(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=na(s);a.call(l)}}Ra(e,s,t,i)}else s=jw(n,e,t,i,r);return na(s)}Em=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ii(e.pendingLanes);n!==0&&(Bc(e,n|1),ot(e,me()),!(J&6)&&(qr=me()+500,Ln()))}break;case 13:rr(function(){var r=Zt(t,1);if(r!==null){var i=Qe();xt(r,t,1,i)}}),yh(t,1)}};Fc=function(t){if(t.tag===13){var e=Zt(t,134217728);if(e!==null){var n=Qe();xt(e,t,134217728,n)}yh(t,134217728)}};Sm=function(t){if(t.tag===13){var e=Sn(t),n=Zt(t,e);if(n!==null){var r=Qe();xt(n,t,e,r)}yh(t,e)}};Tm=function(){return W};Cm=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};vu=function(t,e,n){switch(e){case"input":if(cu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ka(r);if(!i)throw Error(S(90));em(r),cu(r,i)}}}break;case"textarea":nm(t,n);break;case"select":e=n.value,e!=null&&_r(t,!!n.multiple,e,!1)}};um=fh;cm=rr;var Hw={usingClientEntryPoint:!1,Events:[Do,Cr,ka,am,lm,fh]},wi={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gw={bundleType:wi.bundleType,version:wi.version,rendererPackageName:wi.rendererPackageName,rendererConfig:wi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fm(t),t===null?null:t.stateNode},findFiberByHostInstance:wi.findFiberByHostInstance||Vw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ls.isDisabled&&ls.supportsFiber)try{Sa=ls.inject(Gw),bt=ls}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hw;pt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eh(e))throw Error(S(200));return zw(t,e,null,n)};pt.createRoot=function(t,e){if(!Eh(t))throw Error(S(299));var n=!1,r="",i=Gg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vh(t,1,!1,null,null,n,!1,r,i),t[Xt]=e.current,Xi(t.nodeType===8?t.parentNode:t),new wh(e)};pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=fm(e),t=t===null?null:t.stateNode,t};pt.flushSync=function(t){return rr(t)};pt.hydrate=function(t,e,n){if(!Pa(e))throw Error(S(200));return La(null,t,e,!0,n)};pt.hydrateRoot=function(t,e,n){if(!Eh(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Gg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Hg(e,null,t,1,n??null,i,!1,o,s),t[Xt]=e.current,Xi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ma(e)};pt.render=function(t,e,n){if(!Pa(e))throw Error(S(200));return La(null,t,e,!1,n)};pt.unmountComponentAtNode=function(t){if(!Pa(t))throw Error(S(40));return t._reactRootContainer?(rr(function(){La(null,null,t,!1,function(){t._reactRootContainer=null,t[Xt]=null})}),!0):!1};pt.unstable_batchedUpdates=fh;pt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pa(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return La(t,e,n,!1,r)};pt.version="18.3.1-next-f1338f8080-20240426";function Jg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jg)}catch(t){console.error(t)}}Jg(),Jp.exports=pt;var Jw=Jp.exports,Af=Jw;ru.createRoot=Af.createRoot,ru.hydrateRoot=Af.hydrateRoot;const xf=['Given the verb CHOOSE "pick out, select, or choose from a number of alternatives" (SUBJ) PRESIDENT "the chief executive of a republic", has role of AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo EXPLAIN "make plain and comprehensible" (OBJ) PROBLEM "a question raised for consideration or solution", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo SANCTION "give sanction to" (SUBJ) OWNER "(law) someone who owns (is legal possessor of) a business", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo INCREASE "make bigger or more" (SUBJ) COUNTRY "the territory occupied by a nation", ha il ruolo di INSTRUMENT "Undergoer in an event  that is manipulated by an agent,  and  with  which  an  intentional  act  is performed; it exists independently of the event." ?','Dato il verbo COMPLETE "come or bring to a finish or an end" (SUBJ) PROGRAM "a radio or television show", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo LEARN "impart skills or knowledge to" (OBJ) GRAMMAR "the branch of linguistics that deals with syntax and morphology (and sometimes also deals with semantics)", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo ACKNOWLEDGE "declare to be true or admit the existence or reality or truth of" (OBJ) IMPORTANCE "a prominent status", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo APPRECIATE "be fully aware of; realize fully" (SUBJ) LISTENER "someone who listens attentively", ha il ruolo di EXPERIENCER "Patient that is aware of the event undergone (specific to events of perception)." ?','Dato il verbo REASON_OUT "decide by reasoning; draw or come to a conclusion" (OBJ) PROBE "an inquiry into unfamiliar or questionable activities", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo APPEAR "come into sight or view" (SUBJ) LIGHT "the quality of being luminous; emitting or reflecting light", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo GUESS "guess correctly; solve by guessing" (OBJ) NUMBER "the property possessed by a sum or total or indefinite quantity of units or individuals", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo POSSESS "have ownership or possession of" (SUBJ) HOME "a social unit living together", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo BRUSH "clean with a brush" (OBJ) HORSE "a padded gymnastic apparatus on legs", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo STAY_ON "continue in a place, position, or situation" (SUBJ) HOME "a social unit living together", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo REGAIN "come upon after searching; find the location of something that was missed or lost" (OBJ) FORM "a particular mode in which something is manifested", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo DISCOMBOBULATE "be confusing or perplexing to; cause to be unable to think clearly" (OBJ) AUDIENCE "a gathering of spectators or listeners at a (usually public) performance", ha il ruolo di EXPERIENCER "Patient that is aware of the event undergone (specific to events of perception)." ?','Dato il verbo RECOGNIZE "be fully aware or cognizant of" (OBJ) DEVELOPMENT "act of improving by expanding or enlarging or refining", ha il ruolo di STIMULUS "Cause in an event that elicits an emotional or psychological response (specific to events of perception)" ?','Dato il verbo REGAIN "come upon after searching; find the location of something that was missed or lost" (SUBJ) TEAM "a cooperative unit (especially in sports)", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo RACK "torment emotionally or mentally" (OBJ) GIRL "a friendly informal reference to a grown woman", ha il ruolo di EXPERIENCER "Patient that is aware of the event undergone (specific to events of perception)." ?','Dato il verbo ACKNOWLEDGE "declare to be true or admit the existence or reality or truth of" (OBJ) PRINCIPLE "rule of personal conduct", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo LEARN "impart skills or knowledge to" (OBJ) DISCIPLINE "a branch of knowledge", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo UNDERSCORE "give extra weight to (a communication)" (OBJ) DIFFERENCE "a significant change", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo EXPLAIN "define" (OBJ) GROUND "a rational motive for a belief or action", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo COMPRISE "form or compose" (SUBJ) MAJORITY "(elections) more than half of the votes", ha il ruolo di ATTRIBUTE "Undergoer that is a property of an entity or entities, as opposed to the entity itself." ?','Dato il verbo EXPLAIN "define" (OBJ) IMPORTANCE "a prominent status", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo INCREASE "become bigger or greater in amount" (OBJ) LEVEL "a position on a scale of intensity or amount or quality", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo MAKE "create by artistic means" (OBJ) COMPETITION "a business relation in which two parties compete to gain customers", ha il ruolo di RESULT "Goal that comes into existence through the event." ?','Dato il verbo COMMENCE "set in motion, cause to start" (OBJ) PHASE "any distinct time period in a sequence of events", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo BEEF_UP "make strong or stronger" (OBJ) NETWORK "an interconnected system of things or people", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo DUPLICATE "increase twofold" (OBJ) YEAR "a period of time containing 365 (or 366) days", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo SEE "find out, learn, or determine with certainty, usually by making an inquiry or other effort" (OBJ) PROBLEM "a question raised for consideration or solution", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo PRIZE "hold dear" (OBJ) AUTONOMY "immunity from arbitrary exercise of authority: political independence", ha il ruolo di STIMULUS "Cause in an event that elicits an emotional or psychological response (specific to events of perception)" ?','Dato il verbo QUESTION "direct or put; seek an answer to" (SUBJ) LADY "a woman of refinement", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo PRODUCE "create or manufacture a man-made product" (OBJ) LIGHT "the quality of being luminous; emitting or reflecting light", ha il ruolo di RESULT "Goal that comes into existence through the event." ?','Dato il verbo VARY "be subject to change in accordance with a variable" (SUBJ) IMPORTANCE "a prominent status", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo COMMENCE "set in motion, cause to start" (OBJ) TIME "a suitable moment", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo MAINTAIN "keep in a certain state, position, or activity; e.g.," (ATTR) SHAPE "a perceptual structure", ha il ruolo di ATTRIBUTE "Undergoer that is a property of an entity or entities, as opposed to the entity itself." ?','Dato il verbo TRANSCEND "be superior or better than some standard" (OBJ) SUM "a quantity of money", ha il ruolo di CO-THEME "Theme that participates in an event or state with another Theme; both participate equally (thereby distinguishing this role from Pivot; specific to events with symmetrical participants)." ?','Dato il verbo REASON_OUT "decide by reasoning; draw or come to a conclusion" (OBJ) YEAR "a period of time containing 365 (or 366) days", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo DESTROY "destroy completely; damage irreparably" (OBJ) REPUTATION "the general estimation that the public has for a person", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo ANTICIPATE "regard something as probable or likely" (OBJ) TEAM "a cooperative unit (especially in sports)", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo STAY_ON "continue in a place, position, or situation" (SUBJ) EYE "the organ of sight", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo SUPPLANT "take the place or move into the position of" (OBJ) BRIDGE "a structure that allows people or vehicles to cross an obstacle such as a river or canal or railway etc.", ha il ruolo di CO-THEME "Theme that participates in an event or state with another Theme; both participate equally (thereby distinguishing this role from Pivot; specific to events with symmetrical participants)." ?','Dato il verbo TAKE "remove something concrete, as by lifting, pushing, or taking off, or remove something abstract" (SUBJ) MOTHER "a woman who has given birth to a child (also used as a term of address to your mother)", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo AVOID "stay clear from; keep away from; keep out of the way of someone or something" (OBJ) DISASTER "an act that has disastrous consequences", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo GUESS "expect, believe, or suppose" (SUBJ) CONSUMER "a person who uses goods or services", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo QUESTION "direct or put; seek an answer to" (SUBJ) COMMISSION "a special group delegated to consider some matter;  - Milton Berle", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo TIRE "cause to be bored" (SUBJ) JOB "the principal activity in your life that you do to earn money", ha il ruolo di STIMULUS "Cause in an event that elicits an emotional or psychological response (specific to events of perception)" ?','Dato il verbo STAY_ON "continue in a place, position, or situation" (SUBJ) DECISION "a position or opinion or judgment reached after consideration", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo APPRECIATE "be fully aware of; realize fully" (OBJ) RULE "prescribed guide for conduct or action", ha il ruolo di STIMULUS "Cause in an event that elicits an emotional or psychological response (specific to events of perception)" ?','Dato il verbo REASON_OUT "decide by reasoning; draw or come to a conclusion" (OBJ) APPRAISAL "the classification of someone or something with respect to its worth", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo COMBUST "undergo combustion" (OBJ) BARN "an outlying farm building for storing grain or animal feed and housing farm animals", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo ENJOY "derive or receive pleasure from; get enjoyment from; take pleasure in" (OBJ) CUISINE "the practice or manner of preparing food or the food so prepared", ha il ruolo di STIMULUS "Cause in an event that elicits an emotional or psychological response (specific to events of perception)" ?','Dato il verbo ANTECEDE "be earlier in time; go back further" (OBJ) PHASE "any distinct time period in a sequence of events", ha il ruolo di CO-THEME "Theme that participates in an event or state with another Theme; both participate equally (thereby distinguishing this role from Pivot; specific to events with symmetrical participants)." ?','Dato il verbo ADD "make an addition (to); join or combine or unite with others; increase the quality, quantity, size or scope of" (OBJ) REQUIREMENT "required activity", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo LEARN "impart skills or knowledge to" (SUBJ) GRANDMOTHER "the mother of your father or mother", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo SHOW "give expression to" (SUBJ) COMMITTEE "a special group delegated to consider some matter;  - Milton Berle", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo LIKE "be fond of" (OBJ) IDEA "an approximate calculation of quantity or degree or worth", ha il ruolo di STIMULUS "Cause in an event that elicits an emotional or psychological response (specific to events of perception)" ?','Dato il verbo ACKNOWLEDGE "declare to be true or admit the existence or reality or truth of" (OBJ) CRIME "(criminal law) an act punishable by law; usually considered an evil act", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo SUPPLANT "take the place or move into the position of" (OBJ) SYSTEM "instrumentality that combines interrelated interacting artifacts designed to work as a coherent entity", ha il ruolo di CO-THEME "Theme that participates in an event or state with another Theme; both participate equally (thereby distinguishing this role from Pivot; specific to events with symmetrical participants)." ?','Dato il verbo DETERMINE "establish after a calculation, investigation, experiment, survey, or study" (OBJ) REASON "a rational motive for a belief or action", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo GO "enter or assume a certain state or condition" (OBJ) TIME "a suitable moment", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo WAKEN "cause to become awake or conscious" (SUBJ) NOISE "electrical or acoustic activity that can disturb communication", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo TELL "narrate or give a detailed account of" (REC) MAGAZINE "a business firm that publishes magazines", ha il ruolo di RECIPIENT "Destination that is animate." ?','Dato il verbo REST "stay the same; remain in a certain state" (SUBJ) MATTER "some situation or event that is thought about", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo ENCOURAGE "inspire with confidence; give hope or courage to" (SUBJ) AGENCY "a business that serves other businesses", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo COMMENCE "set in motion, cause to start" (SUBJ) RAIN "drops of fresh water that fall as precipitation from clouds", ha il ruolo di INSTRUMENT "Undergoer in an event  that is manipulated by an agent,  and  with  which  an  intentional  act  is performed; it exists independently of the event." ?','Dato il verbo COMMENCE "set in motion, cause to start" (OBJ) PROCESS "(psychology) the performance of some composite cognitive activity; an operation that affects mental contents", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo COLLAPSE "break down, literally or metaphorically" (OBJ) KINGDOM "the domain ruled by a king or queen", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo AVOID "stay clear from; keep away from; keep out of the way of someone or something" (OBJ) DIFFICULTY "a factor causing trouble in achieving a positive result or tending to produce a negative result", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo DESCRIBE "to give an account or representation of in words" (OBJ) FORM "a particular mode in which something is manifested", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?',`Dato il verbo ASSUME "take on titles, offices, duties, responsibilities" (OBJ) EXPRESSION "the feelings expressed on a person's face", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?`,'Dato il verbo READ "look at, interpret, and say out loud something that is written or printed" (OBJ) BIBLE "the sacred writings of the Christian religions", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo PASS "place into the hands or custody of" (SUBJ) MOTHER "a woman who has given birth to a child (also used as a term of address to your mother)", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo BEEF_UP "make strong or stronger" (OBJ) STEP "any maneuver made as part of progress toward a goal", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo PAY "give money, usually in exchange for goods or services" (REC) FUND "a financial institution that sells shares to individuals and invests in securities issued by other companies", ha il ruolo di RECIPIENT "Destination that is animate." ?','Dato il verbo LEARN "impart skills or knowledge to" (OBJ) THEOLOGY "the rational and systematic study of religion and its influences and of the nature of religious truth", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo MODIFY "cause to change; make different; cause a transformation" (OBJ) GENE "(genetics) a segment of DNA that is involved in producing a polypeptide chain; it can include regions preceding and following the coding DNA as well as introns between the exons; it is considered a unit of heredity", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo ACCEPT "consider or hold as true" (SUBJ) JUDGE "a public official authorized to decide questions brought before a court of justice", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo TAKE_UP "occupy or take on" (OBJ) INITIATIVE "readiness to embark on bold new ventures", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo MODIFY "cause to change; make different; cause a transformation" (SUBJ) SITUATION "the general state of things; the combination of circumstances at a given time; ; ; - Franklin D.Roosevelt", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo CONDUCT "take somebody somewhere" (SUBJ) POLICE "the force of policemen and officers", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo FACE "present somebody with something, usually to accuse or criticize" (OBJ) UNEMPLOYMENT "the state of being unemployed or not having a job", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo GO_ALONG "continue a certain state, condition, or activity" (SUBJ) FAMILY "an association of people who share common beliefs or activities", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo SHOUT "utter or declare in a very loud voice" (SUBJ) AUDIENCE "a gathering of spectators or listeners at a (usually public) performance", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo CHARACTERIZE "be characteristic of" (OBJ) AGE "an era of history having some distinctive feature", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo BEGIN "have a beginning, in a temporal, spatial, or evaluative sense" (OBJ) TIME "a suitable moment", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo DEBAR "prevent from entering; keep out" (OBJ) APPLICATION "the work of applying something", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo GO "enter or assume a certain state or condition" (OBJ) SOURCE "a document (or organization) from which information is obtained", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo BLOW "spend thoughtlessly; throw away" (OBJ) SUM "a quantity obtained by the addition of a group of numbers", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo MOOT "think about carefully; weigh" (OBJ) COUNTRY "a politically organized body of people under a single government", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?',`Dato il verbo KILL "cause to die; put to death, usually intentionally or knowingly" (OBJ) HUSBAND "a married man; a woman's partner in marriage", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?`,'Dato il verbo INFIX "put or introduce into something" (OBJ) KID "a young person of either sex", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo VARY "be subject to change in accordance with a variable" (SUBJ) TIME "a suitable moment", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo HAVE "get something; come into possession of" (SUBJ) USER "a person who makes use of a thing; someone who uses or employs something", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo PRIZE "hold dear" (OBJ) POTENTIAL "the inherent capacity for coming into being", ha il ruolo di STIMULUS "Cause in an event that elicits an emotional or psychological response (specific to events of perception)" ?','Dato il verbo JOIN "make contact or come together" (SUBJ) TEAM "a cooperative unit (especially in sports)", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo DESCRIBE "to give an account or representation of in words" (OBJ) FORM "a particular mode in which something is manifested", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo WORSEN "make worse" (SUBJ) INSECURITY "the state of being subject to danger or injury", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo COMMENCE "set in motion, cause to start" (OBJ) DECEMBER "the last (12th) month of the year", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo PRODUCE "create or manufacture a man-made product" (OBJ) REACTION "an idea evoked by some experience", ha il ruolo di RESULT "Goal that comes into existence through the event." ?','Dato il verbo CONSULT "get or ask advice from" (SUBJ) UMPIRE "an official at a baseball game", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo REPAY "pay back" (REC) COMMISSION "a special group delegated to consider some matter;  - Milton Berle", ha il ruolo di RECIPIENT "Destination that is animate." ?','Dato il verbo MIX_UP "mistake one thing for another" (OBJ) RELIGION "an institution to express belief in a divine power", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo CARE "feel concern or interest" (OBJ) PROGRAM "a radio or television show", ha il ruolo di STIMULUS "Cause in an event that elicits an emotional or psychological response (specific to events of perception)" ?','Dato il verbo HALT "cause to stop" (SUBJ) MAN "an adult person who is male (as opposed to a woman)", ha il ruolo di INSTRUMENT "Undergoer in an event  that is manipulated by an agent,  and  with  which  an  intentional  act  is performed; it exists independently of the event." ?','Dato il verbo STRIP "take away possessions from someone" (SUBJ) PRODUCER "someone who manufactures something", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo COMMENCE "set in motion, cause to start" (OBJ) STUDY "a detailed critical inspection", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo EXPLAIN "define" (OBJ) COMPUTATION "problem solving that involves numbers or quantities", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo READ "look at, interpret, and say out loud something that is written or printed" (OBJ) WORD "a promise", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo SHOW "give expression to" (SUBJ) PICTURE "a clear and telling mental image", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo INCARCERATE "lock up or confine, in or as in a jail" (OBJ) MAN "an adult person who is male (as opposed to a woman)", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo PROCURE "come into possession of" (SUBJ) CLUB "a building that is occupied by a social club", ha il ruolo di ASSET "Participant that is the instigator of an event." ?','Dato il verbo SUMMARIZE "give a summary (of)" (OBJ) THEME "a unifying idea that is a recurrent element in literary or artistic work", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo EXPLAIN "make plain and comprehensible" (SUBJ) DELEGATION "a group of representatives or delegates", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo HALT "stop from happening or developing" (OBJ) ATTACK "(military) an offensive against an enemy (using weapons)", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo PASS_ALONG "transmit information" (SUBJ) COMMISSION "a special group delegated to consider some matter;  - Milton Berle", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo PASS_ALONG "transmit information" (OBJ) VERSION "a written communication in a second language having the same meaning as the written communication in a first language", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?',`Dato il verbo FIND "make a discovery" (SUBJ) WIFE "a married woman; a man's partner in marriage", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?`,'Dato il verbo SPEND "spend completely" (SUBJ) GOVERNMENT "the organization that is the governing authority of a political unit", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo BANG "close violently" (OBJ) CHIEF "a person who is in charge", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo FIND "make a discovery" (SUBJ) MOTHER "a woman who has given birth to a child (also used as a term of address to your mother)", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo FIGURE_OUT "find the solution to (a problem or question) or understand the meaning of" (OBJ) SITUATION "the general state of things; the combination of circumstances at a given time; ; ; - Franklin D.Roosevelt", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo COMMENCE "set in motion, cause to start" (SUBJ) PLAN "an arrangement scheme", ha il ruolo di INSTRUMENT "Undergoer in an event  that is manipulated by an agent,  and  with  which  an  intentional  act  is performed; it exists independently of the event." ?','Dato il verbo BEEF_UP "make strong or stronger" (OBJ) BOND "a connection based on kinship or marriage or common interest", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo SUMMARIZE "give a summary (of)" (OBJ) DEVELOPMENT "act of improving by expanding or enlarging or refining", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo FIND "make a discovery" (OBJ) LOSS "the disadvantage that results from losing something", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo MOOT "think about carefully; weigh" (OBJ) INITIATIVE "readiness to embark on bold new ventures", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo TRANSCEND "be superior or better than some standard" (OBJ) LEVEL "a position on a scale of intensity or amount or quality", ha il ruolo di CO-THEME "Theme that participates in an event or state with another Theme; both participate equally (thereby distinguishing this role from Pivot; specific to events with symmetrical participants)." ?','Dato il verbo PAY "give money, usually in exchange for goods or services" (REC) OFFICE "an administrative unit of government", ha il ruolo di RECIPIENT "Destination that is animate." ?','Dato il verbo DESCRIBE "to give an account or representation of in words" (OBJ) PATTERN "a model considered worthy of imitation", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo MODIFY "cause to change; make different; cause a transformation" (SUBJ) SYSTEM "a procedure or process for obtaining an objective", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo REGAIN "come upon after searching; find the location of something that was missed or lost" (OBJ) ARTICLE "nonfictional prose forming an independent part of a publication", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo COMMENCE "set in motion, cause to start" (SUBJ) CLIENT "someone who pays for goods or services", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo BUY "obtain by purchase; acquire by means of a financial transaction" (OBJ) APARTMENT "a suite of rooms usually on one floor of an apartment house", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo JOIN_FORCES "work together on a common enterprise of project" (SUBJ) EMPLOYEE "a worker who is hired to perform a job", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo CONTEND "have an argument about something" (SUBJ) COMMISSION "a special group delegated to consider some matter;  - Milton Berle", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo EXPLAIN "define" (SUBJ) MOTHER "a woman who has given birth to a child (also used as a term of address to your mother)", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo MELT_DOWN "reduce or cause to be reduced from a solid to a liquid state, usually by heating" (OBJ) WAX "any of various substances of either mineral origin or plant or animal origin; they are solid at normal temperatures and insoluble in water", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo RECOGNIZE "be fully aware or cognizant of" (OBJ) PATTERN "a model considered worthy of imitation", ha il ruolo di STIMULUS "Cause in an event that elicits an emotional or psychological response (specific to events of perception)" ?','Dato il verbo SUMMARIZE "give a summary (of)" (OBJ) REACTION "an idea evoked by some experience", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo MAINTAIN "keep in a certain state, position, or activity; e.g.," (ATTR) SUPPLY "the activity of supplying or providing something", ha il ruolo di ATTRIBUTE "Undergoer that is a property of an entity or entities, as opposed to the entity itself." ?','Dato il verbo PASS "place into the hands or custody of" (REC) GOVERNMENT "the organization that is the governing authority of a political unit", ha il ruolo di RECIPIENT "Destination that is animate." ?','Dato il verbo MOOT "think about carefully; weigh" (OBJ) RELATIONSHIP "a state involving mutual dealings between people or parties or countries", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo REASON "present reasons and arguments" (SUBJ) BANK "a financial institution that accepts deposits and channels the money into lending activities", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo PASS "place into the hands or custody of" (OBJ) LIGHT "the quality of being luminous; emitting or reflecting light", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo SHAKE_UP "stir the feelings, emotions, or peace of" (SUBJ) ACTION "something done (usually as opposed to something said)", ha il ruolo di STIMULUS "Cause in an event that elicits an emotional or psychological response (specific to events of perception)" ?','Dato il verbo NAVIGATE "traverse or travel on (a body of water)" (SUBJ) SHIP "a vessel that carries passengers or freight", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo DECLARE "announce publicly or officially" (SUBJ) JUDGE "a public official authorized to decide questions brought before a court of justice", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo EXPLAIN "define" (OBJ) FEATURE "a prominent attribute or aspect of something", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo SHOUT "utter or declare in a very loud voice" (SUBJ) AGGRESSOR "someone who attacks", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo BUILD "make by combining materials and parts" (OBJ) TEAM "a cooperative unit (especially in sports)", ha il ruolo di RESULT "Goal that comes into existence through the event." ?','Dato il verbo BOB_UP "originate or come into being" (SUBJ) DOUBT "the state of being unsure of something", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo FIND "make a discovery" (OBJ) PAYMENT "a sum of money paid or a claim discharged", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo REQUIRE "have need of" (OBJ) EXAMINATION "a set of questions or exercises evaluating skill or knowledge", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo ENDURE "persist for a specified period of time" (SUBJ) STAGE "any distinct time period in a sequence of events", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo MAKE "cause to do; cause to act in a specified manner" (SUBJ) DIFFICULTY "a factor causing trouble in achieving a positive result or tending to produce a negative result", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo DUPLICATE "increase twofold" (SUBJ) NUMBER "the property possessed by a sum or total or indefinite quantity of units or individuals", ha il ruolo di INSTRUMENT "Undergoer in an event  that is manipulated by an agent,  and  with  which  an  intentional  act  is performed; it exists independently of the event." ?','Dato il verbo REQUIRE "have need of" (OBJ) SOLUTION "a statement that solves a problem or explains how to solve the problem", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo COMPRISE "form or compose" (OBJ) DECISION "a position or opinion or judgment reached after consideration", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo VEX "disturb the peace of mind of; afflict with mental agitation or distress" (OBJ) CONSUMER "a person who uses goods or services", ha il ruolo di EXPERIENCER "Patient that is aware of the event undergone (specific to events of perception)." ?',`Dato il verbo PERSUADE "cause somebody to adopt a certain position, belief, or course of action; twist somebody's arm" (SUBJ) SENTIMENT "a personal belief or judgment that is not founded on proof or certainty", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?`,'Dato il verbo PROCLAIM "state or announce" (SUBJ) PRESIDENT "the chief executive of a republic", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo COMBUST "undergo combustion" (SUBJ) BUILDING "a structure that has a roof and walls and stands more or less permanently in one place", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo CHASE "go after with the intent to catch" (OBJ) BUTTERFLY "diurnal insect typically having a slender body with knobbed antennae and broad colorful wings", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo EXPLAIN "define" (OBJ) METHOD "a way of doing something, especially a systematic way; implies an orderly logical arrangement (usually in steps)", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo FIND "make a discovery" (SUBJ) COMMITTEE "a special group delegated to consider some matter;  - Milton Berle", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo ACCEPT "consider or hold as true" (OBJ) DECISION "a position or opinion or judgment reached after consideration", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo DESCRIBE "to give an account or representation of in words" (OBJ) WORLD "people in general; especially a distinctive group of people with some shared interest", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo BOB_UP "originate or come into being" (SUBJ) MODEL "someone worthy of imitation", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo CONSULT "get or ask advice from" (OBJ) GOVERNMENT "the organization that is the governing authority of a political unit", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo TELL "narrate or give a detailed account of" (REC) DAUGHTER "a female human offspring", ha il ruolo di RECIPIENT "Destination that is animate." ?','Dato il verbo JOIN "make contact or come together" (SUBJ) VOICE "(metonymy) a singer", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo ACKNOWLEDGE "declare to be true or admit the existence or reality or truth of" (OBJ) POSSIBILITY "a possible alternative", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo WIND "arrange or or coil around" (SUBJ) TREE "a tall perennial woody plant having a main trunk and branches forming a distinct elevated crown; includes both gymnosperms and angiosperms", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo BEEF_UP "make strong or stronger" (OBJ) RELATIONSHIP "a state involving mutual dealings between people or parties or countries", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo EXPLAIN "make plain and comprehensible" (SUBJ) PRESIDENT "the chief executive of a republic", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo EMPLOY "put into service; make work or employ for a particular purpose or for its inherent or natural purpose" (SUBJ) COMMISSION "a special group delegated to consider some matter;  - Milton Berle", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo SHOUT "utter or declare in a very loud voice" (SUBJ) VICTIM "a person who is tricked or swindled", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo ADVERT "make reference to" (SUBJ) GOVERNMENT "the organization that is the governing authority of a political unit", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo LOATHE "find repugnant" (SUBJ) PEOPLE "members of a family line", ha il ruolo di EXPERIENCER "Patient that is aware of the event undergone (specific to events of perception)." ?','Dato il verbo RACK "torment emotionally or mentally" (OBJ) CHRISTIAN "a religious person who believes Jesus is the Christ and who is a member of a Christian denomination", ha il ruolo di EXPERIENCER "Patient that is aware of the event undergone (specific to events of perception)." ?','Dato il verbo CHARACTERIZE "be characteristic of" (OBJ) LIFE "a motive for living", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo REBUILD "build again" (OBJ) LIFE "a motive for living", ha il ruolo di RESULT "Goal that comes into existence through the event." ?','Dato il verbo PASS_ALONG "transmit information" (SUBJ) COUNTRY "a politically organized body of people under a single government", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo PRODUCE "create or manufacture a man-made product" (OBJ) INFORMATION "a message received and understood", ha il ruolo di RESULT "Goal that comes into existence through the event." ?','Dato il verbo PREVENT "stop (someone or something) from doing something or being in a certain state" (OBJ) CRIME "(criminal law) an act punishable by law; usually considered an evil act", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo COMPRISE "form or compose" (SUBJ) BASE "a lower limit", ha il ruolo di ATTRIBUTE "Undergoer that is a property of an entity or entities, as opposed to the entity itself." ?','Dato il verbo RESTART "take up or begin anew" (OBJ) PROCESS "(psychology) the performance of some composite cognitive activity; an operation that affects mental contents", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo COMMUNICATE "transfer to another" (SUBJ) HEAT "the presence of heat", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo FUNCTION "perform as expected when applied" (OBJ) MARKETPLACE "an area in a town where a public mercantile establishment is set up", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo LEARN "gain knowledge or skills" (SUBJ) GIRL "a friendly informal reference to a grown woman", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo BEEF_UP "make strong or stronger" (OBJ) INDUSTRY "persevering determination to perform a task", ha il ruolo di PATIENT "Undergoer in an event that experiences a change of state, location or condition, that is causally involved or directly affected by other participants, and exists independently of the event." ?','Dato il verbo SMELL "inhale the odor of; perceive by the olfactory sense" (SUBJ) HOUSE "a social unit living together", ha il ruolo di EXPERIENCER "Patient that is aware of the event undergone (specific to events of perception)." ?','Dato il verbo REPAY "pay back" (SUBJ) COUNTRY "a politically organized body of people under a single government", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?','Dato il verbo BE_KNOWN_AS "assign a specified (usually proper) proper name to" (OBJ) HOUSE "a social unit living together", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo PASS_ALONG "transmit information" (OBJ) BILL "an itemized statement of money owed for goods shipped or services rendered", ha il ruolo di TOPIC "Theme characterized by information content transferred to another participant (specific to events of com- munication)." ?','Dato il verbo VALUE "regard highly; think much of" (OBJ) DECISION "a position or opinion or judgment reached after consideration", ha il ruolo di STIMULUS "Cause in an event that elicits an emotional or psychological response (specific to events of perception)" ?','Dato il verbo ESCAPE "run away from confinement" (SUBJ) MAN "an adult person who is male (as opposed to a woman)", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?','Dato il verbo GUESS "guess correctly; solve by guessing" (OBJ) PURPOSE "an anticipated outcome that is intended or that guides your planned actions", ha il ruolo di THEME "Undergoer that is central to an event or state that does not have control over the way the event occurs, is not structurally changed by the event, and/or is characterized as being in a certain position or condition throughout the state." ?'];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Kw=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},qg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,g=u&63;l||(g=64,s||(d=64)),r.push(n[c],n[h],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Kg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Kw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new qw;const d=o<<2|a>>4;if(r.push(d),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ww=function(t){const e=Kg(t);return qg.encodeByteArray(e,!0)},ra=function(t){return Ww(t).replace(/\./g,"")},Qw=function(t){try{return qg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=()=>Yw().__FIREBASE_DEFAULTS__,Zw=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qw(t[1]);return e&&JSON.parse(e)},Wg=()=>{try{return Xw()||Zw()||eE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tE=t=>{var e,n;return(n=(e=Wg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nE=t=>{const e=tE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qg=()=>{var t;return(t=Wg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ra(JSON.stringify(n)),ra(JSON.stringify(s)),a].join(".")}function oE(){try{return typeof indexedDB=="object"}catch{return!1}}function sE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="FirebaseError";class si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aE,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yg.prototype.create)}}class Yg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?lE(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new si(i,a,r)}}function lE(t,e){return t.replace(uE,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uE=/\{\$([^}]+)}/g;function Qu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Of(o)&&Of(s)){if(!Qu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Of(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){return t&&t._delegate?t._delegate:t}class ao{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dE(e))try{this.getOrInitializeService({instanceIdentifier:jn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=jn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jn){return this.instances.has(e)}getOptions(e=jn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jn){return this.component?this.component.multipleInstances?e:jn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hE(t){return t===jn?void 0:t}function dE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(q||(q={}));const pE={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},mE=q.INFO,gE={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},vE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gE[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xg{constructor(e){this.name=e,this._logLevel=mE,this._logHandler=vE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...e),this._logHandler(this,q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...e),this._logHandler(this,q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,q.INFO,...e),this._logHandler(this,q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,q.WARN,...e),this._logHandler(this,q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...e),this._logHandler(this,q.ERROR,...e)}}const yE=(t,e)=>e.some(n=>t instanceof n);let _f,Rf;function wE(){return _f||(_f=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EE(){return Rf||(Rf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zg=new WeakMap,Yu=new WeakMap,ev=new WeakMap,Bl=new WeakMap,Sh=new WeakMap;function SE(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Cn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Zg.set(n,t)}).catch(()=>{}),Sh.set(e,t),e}function TE(t){if(Yu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Yu.set(t,e)}let Xu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ev.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CE(t){Xu=t(Xu)}function IE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fl(this),e,...n);return ev.set(r,e.sort?e.sort():[e]),Cn(r)}:EE().includes(t)?function(...e){return t.apply(Fl(this),e),Cn(Zg.get(this))}:function(...e){return Cn(t.apply(Fl(this),e))}}function kE(t){return typeof t=="function"?IE(t):(t instanceof IDBTransaction&&TE(t),yE(t,wE())?new Proxy(t,Xu):t)}function Cn(t){if(t instanceof IDBRequest)return SE(t);if(Bl.has(t))return Bl.get(t);const e=kE(t);return e!==t&&(Bl.set(t,e),Sh.set(e,t)),e}const Fl=t=>Sh.get(t);function NE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Cn(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Cn(s.result),l.oldVersion,l.newVersion,Cn(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const DE=["get","getKey","getAll","getAllKeys","count"],AE=["put","add","delete","clear"],zl=new Map;function Mf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zl.get(e))return zl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=AE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DE.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return zl.set(e,o),o}CE(t=>({...t,get:(e,n,r)=>Mf(e,n)||t.get(e,n,r),has:(e,n)=>!!Mf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zu="@firebase/app",Pf="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Xg("@firebase/app"),_E="@firebase/app-compat",RE="@firebase/analytics-compat",ME="@firebase/analytics",PE="@firebase/app-check-compat",LE="@firebase/app-check",$E="@firebase/auth",UE="@firebase/auth-compat",bE="@firebase/database",BE="@firebase/database-compat",FE="@firebase/functions",zE="@firebase/functions-compat",VE="@firebase/installations",jE="@firebase/installations-compat",HE="@firebase/messaging",GE="@firebase/messaging-compat",JE="@firebase/performance",KE="@firebase/performance-compat",qE="@firebase/remote-config",WE="@firebase/remote-config-compat",QE="@firebase/storage",YE="@firebase/storage-compat",XE="@firebase/firestore",ZE="@firebase/firestore-compat",eS="firebase",tS="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="[DEFAULT]",nS={[Zu]:"fire-core",[_E]:"fire-core-compat",[ME]:"fire-analytics",[RE]:"fire-analytics-compat",[LE]:"fire-app-check",[PE]:"fire-app-check-compat",[$E]:"fire-auth",[UE]:"fire-auth-compat",[bE]:"fire-rtdb",[BE]:"fire-rtdb-compat",[FE]:"fire-fn",[zE]:"fire-fn-compat",[VE]:"fire-iid",[jE]:"fire-iid-compat",[HE]:"fire-fcm",[GE]:"fire-fcm-compat",[JE]:"fire-perf",[KE]:"fire-perf-compat",[qE]:"fire-rc",[WE]:"fire-rc-compat",[QE]:"fire-gcs",[YE]:"fire-gcs-compat",[XE]:"fire-fst",[ZE]:"fire-fst-compat","fire-js":"fire-js",[eS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new Map,tc=new Map;function rS(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oa(t){const e=t.name;if(tc.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;tc.set(e,t);for(const n of ia.values())rS(n,t);return!0}function iS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},In=new Yg("app","Firebase",oS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=tS;function tv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ec,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw In.create("bad-app-name",{appName:String(i)});if(n||(n=Qg()),!n)throw In.create("no-options");const o=ia.get(i);if(o){if(Qu(n,o.options)&&Qu(r,o.config))return o;throw In.create("duplicate-app",{appName:i})}const s=new fE(i);for(const l of tc.values())s.addComponent(l);const a=new sS(n,r,s);return ia.set(i,a),a}function lS(t=ec){const e=ia.get(t);if(!e&&t===ec&&Qg())return tv();if(!e)throw In.create("no-app",{appName:t});return e}function Ur(t,e,n){var r;let i=(r=nS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(a.join(" "));return}oa(new ao(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firebase-heartbeat-database",cS=1,lo="firebase-heartbeat-store";let Vl=null;function nv(){return Vl||(Vl=NE(uS,cS,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(lo)}}}).catch(t=>{throw In.create("idb-open",{originalErrorMessage:t.message})})),Vl}async function hS(t){try{return await(await nv()).transaction(lo).objectStore(lo).get(rv(t))}catch(e){if(e instanceof si)ir.warn(e.message);else{const n=In.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function Lf(t,e){try{const r=(await nv()).transaction(lo,"readwrite");await r.objectStore(lo).put(e,rv(t)),await r.done}catch(n){if(n instanceof si)ir.warn(n.message);else{const r=In.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(r.message)}}}function rv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=1024,fS=30*24*60*60*1e3;class pS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$f();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=fS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$f(),{heartbeatsToSend:n,unsentEntries:r}=mS(this._heartbeatsCache.heartbeats),i=ra(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function $f(){return new Date().toISOString().substring(0,10)}function mS(t,e=dS){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Uf(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Uf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oE()?sE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await hS(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Uf(t){return ra(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t){oa(new ao("platform-logger",e=>new xE(e),"PRIVATE")),oa(new ao("heartbeat",e=>new pS(e),"PRIVATE")),Ur(Zu,Pf,t),Ur(Zu,Pf,"esm2017"),Ur("fire-js","")}vS("");var yS="firebase",wS="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(yS,wS,"app");var ES=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},C,Th=Th||{},L=ES||self;function $a(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function xo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function SS(t){return Object.prototype.hasOwnProperty.call(t,jl)&&t[jl]||(t[jl]=++TS)}var jl="closure_uid_"+(1e9*Math.random()>>>0),TS=0;function CS(t,e,n){return t.call.apply(t.bind,arguments)}function IS(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function je(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?je=CS:je=IS,je.apply(null,arguments)}function us(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function $n(){this.s=this.s,this.o=this.o}var kS=0;$n.prototype.s=!1;$n.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),kS!=0)&&SS(this)};$n.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iv=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ch(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function bf(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if($a(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function He(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}He.prototype.h=function(){this.defaultPrevented=!0};var NS=function(){if(!L.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{L.addEventListener("test",()=>{},e),L.removeEventListener("test",()=>{},e)}catch{}return t}();function uo(t){return/^[\s\xa0]*$/.test(t)}function Ua(){var t=L.navigator;return t&&(t=t.userAgent)?t:""}function Lt(t){return Ua().indexOf(t)!=-1}function Ih(t){return Ih[" "](t),t}Ih[" "]=function(){};function DS(t,e){var n=wT;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var AS=Lt("Opera"),Wr=Lt("Trident")||Lt("MSIE"),ov=Lt("Edge"),nc=ov||Wr,sv=Lt("Gecko")&&!(Ua().toLowerCase().indexOf("webkit")!=-1&&!Lt("Edge"))&&!(Lt("Trident")||Lt("MSIE"))&&!Lt("Edge"),xS=Ua().toLowerCase().indexOf("webkit")!=-1&&!Lt("Edge");function av(){var t=L.document;return t?t.documentMode:void 0}var rc;e:{var Hl="",Gl=function(){var t=Ua();if(sv)return/rv:([^\);]+)(\)|;)/.exec(t);if(ov)return/Edge\/([\d\.]+)/.exec(t);if(Wr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xS)return/WebKit\/(\S+)/.exec(t);if(AS)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Gl&&(Hl=Gl?Gl[1]:""),Wr){var Jl=av();if(Jl!=null&&Jl>parseFloat(Hl)){rc=String(Jl);break e}}rc=Hl}var ic;if(L.document&&Wr){var Bf=av();ic=Bf||parseInt(rc,10)||void 0}else ic=void 0;var OS=ic;function co(t,e){if(He.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sv){e:{try{Ih(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:_S[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&co.$.h.call(this)}}xe(co,He);var _S={2:"touch",3:"pen",4:"mouse"};co.prototype.h=function(){co.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Oo="closure_listenable_"+(1e6*Math.random()|0),RS=0;function MS(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++RS,this.fa=this.ia=!1}function ba(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function kh(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function PS(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function lv(t){const e={};for(const n in t)e[n]=t[n];return e}const Ff="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uv(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<Ff.length;o++)n=Ff[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ba(t){this.src=t,this.g={},this.h=0}Ba.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=sc(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new MS(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function oc(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=iv(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(ba(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function sc(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Nh="closure_lm_"+(1e6*Math.random()|0),Kl={};function cv(t,e,n,r,i){if(r&&r.once)return dv(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)cv(t,e[o],n,r,i);return null}return n=xh(n),t&&t[Oo]?t.O(e,n,xo(r)?!!r.capture:!!r,i):hv(t,e,n,!1,r,i)}function hv(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=xo(i)?!!i.capture:!!i,a=Ah(t);if(a||(t[Nh]=a=new Ba(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=LS(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)NS||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pv(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function LS(){function t(n){return e.call(t.src,t.listener,n)}const e=$S;return t}function dv(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)dv(t,e[o],n,r,i);return null}return n=xh(n),t&&t[Oo]?t.P(e,n,xo(r)?!!r.capture:!!r,i):hv(t,e,n,!0,r,i)}function fv(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fv(t,e[o],n,r,i);else r=xo(r)?!!r.capture:!!r,n=xh(n),t&&t[Oo]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=sc(o,n,r,i),-1<n&&(ba(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ah(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sc(e,n,r,i)),(n=-1<t?e[t]:null)&&Dh(n))}function Dh(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Oo])oc(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pv(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ah(e))?(oc(n,t),n.h==0&&(n.src=null,e[Nh]=null)):ba(t)}}}function pv(t){return t in Kl?Kl[t]:Kl[t]="on"+t}function $S(t,e){if(t.fa)t=!0;else{e=new co(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Dh(t),t=n.call(r,e)}return t}function Ah(t){return t=t[Nh],t instanceof Ba?t:null}var ql="__closure_events_fn_"+(1e9*Math.random()>>>0);function xh(t){return typeof t=="function"?t:(t[ql]||(t[ql]=function(e){return t.handleEvent(e)}),t[ql])}function Ae(){$n.call(this),this.i=new Ba(this),this.S=this,this.J=null}xe(Ae,$n);Ae.prototype[Oo]=!0;Ae.prototype.removeEventListener=function(t,e,n,r){fv(this,t,e,n,r)};function Pe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new He(e,t);else if(e instanceof He)e.target=e.target||t;else{var i=e;e=new He(r,t),uv(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=cs(s,r,!0,e)&&i}if(s=e.g=t,i=cs(s,r,!0,e)&&i,i=cs(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=cs(s,r,!1,e)&&i}Ae.prototype.N=function(){if(Ae.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ba(n[r]);delete t.g[e],t.h--}}this.J=null};Ae.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ae.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function cs(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&oc(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Oh=L.JSON.stringify;class US{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function bS(){var t=_h;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class BS{constructor(){this.h=this.g=null}add(e,n){const r=mv.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var mv=new US(()=>new FS,t=>t.reset());class FS{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function zS(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function VS(t){L.setTimeout(()=>{throw t},0)}let ho,fo=!1,_h=new BS,gv=()=>{const t=L.Promise.resolve(void 0);ho=()=>{t.then(jS)}};var jS=()=>{for(var t;t=bS();){try{t.h.call(t.g)}catch(n){VS(n)}var e=mv;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fo=!1};function Fa(t,e){Ae.call(this),this.h=t||1,this.g=e||L,this.j=je(this.qb,this),this.l=Date.now()}xe(Fa,Ae);C=Fa.prototype;C.ga=!1;C.T=null;C.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pe(this,"tick"),this.ga&&(Rh(this),this.start()))}};C.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Rh(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}C.N=function(){Fa.$.N.call(this),Rh(this),delete this.g};function Mh(t,e,n){if(typeof t=="function")n&&(t=je(t,n));else if(t&&typeof t.handleEvent=="function")t=je(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:L.setTimeout(t,e||0)}function vv(t){t.g=Mh(()=>{t.g=null,t.i&&(t.i=!1,vv(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class HS extends $n{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vv(this)}N(){super.N(),this.g&&(L.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function po(t){$n.call(this),this.h=t,this.g={}}xe(po,$n);var zf=[];function yv(t,e,n,r){Array.isArray(n)||(n&&(zf[0]=n.toString()),n=zf);for(var i=0;i<n.length;i++){var o=cv(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function wv(t){kh(t.g,function(e,n){this.g.hasOwnProperty(n)&&Dh(e)},t),t.g={}}po.prototype.N=function(){po.$.N.call(this),wv(this)};po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function za(){this.g=!0}za.prototype.Ea=function(){this.g=!1};function GS(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function JS(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Or(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+qS(t,n)+(r?" "+r:"")})}function KS(t,e){t.info(function(){return"TIMEOUT: "+e})}za.prototype.info=function(){};function qS(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Oh(n)}catch{return e}}var hr={},Vf=null;function Va(){return Vf=Vf||new Ae}hr.Ta="serverreachability";function Ev(t){He.call(this,hr.Ta,t)}xe(Ev,He);function mo(t){const e=Va();Pe(e,new Ev(e))}hr.STAT_EVENT="statevent";function Sv(t,e){He.call(this,hr.STAT_EVENT,t),this.stat=e}xe(Sv,He);function We(t){const e=Va();Pe(e,new Sv(e,t))}hr.Ua="timingevent";function Tv(t,e){He.call(this,hr.Ua,t),this.size=e}xe(Tv,He);function _o(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return L.setTimeout(function(){t()},e)}var ja={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Cv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ph(){}Ph.prototype.h=null;function jf(t){return t.h||(t.h=t.i())}function Iv(){}var Ro={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Lh(){He.call(this,"d")}xe(Lh,He);function $h(){He.call(this,"c")}xe($h,He);var ac;function Ha(){}xe(Ha,Ph);Ha.prototype.g=function(){return new XMLHttpRequest};Ha.prototype.i=function(){return{}};ac=new Ha;function Mo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new po(this),this.P=WS,t=nc?125:void 0,this.V=new Fa(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new kv}function kv(){this.i=null,this.g="",this.h=!1}var WS=45e3,lc={},sa={};C=Mo.prototype;C.setTimeout=function(t){this.P=t};function uc(t,e,n){t.L=1,t.v=Ja(tn(e)),t.s=n,t.S=!0,Nv(t,null)}function Nv(t,e){t.G=Date.now(),Po(t),t.A=tn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Pv(n.i,"t",r),t.C=0,n=t.l.J,t.h=new kv,t.g=ty(t.l,n?e:null,!t.s),0<t.O&&(t.M=new HS(je(t.Pa,t,t.g),t.O)),yv(t.U,t.g,"readystatechange",t.nb),e=t.I?lv(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),mo(),GS(t.j,t.u,t.A,t.m,t.W,t.s)}C.nb=function(t){t=t.target;const e=this.M;e&&$t(t)==3?e.l():this.Pa(t)};C.Pa=function(t){try{if(t==this.g)e:{const c=$t(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||nc||this.g&&(this.h.h||this.g.ja()||Kf(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?mo(3):mo(2)),Ga(this);var n=this.g.da();this.ca=n;t:if(Dv(this)){var r=Kf(this.g);t="";var i=r.length,o=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),Bi(this);var s="";break t}this.h.i=new L.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,JS(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uo(a)){var u=a;break t}}u=null}if(n=u)Or(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cc(this,n);else{this.i=!1,this.o=3,We(12),Kn(this),Bi(this);break e}}this.S?(Av(this,c,s),nc&&this.i&&c==3&&(yv(this.U,this.V,"tick",this.mb),this.V.start())):(Or(this.j,this.m,s,null),cc(this,s)),c==4&&Kn(this),this.i&&!this.J&&(c==4?Yv(this.l,this):(this.i=!1,Po(this)))}else gT(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,We(12)):(this.o=0,We(13)),Kn(this),Bi(this)}}}catch{}finally{}};function Dv(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Av(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=QS(t,n),i==sa){e==4&&(t.o=4,We(14),r=!1),Or(t.j,t.m,null,"[Incomplete Response]");break}else if(i==lc){t.o=4,We(15),Or(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Or(t.j,t.m,i,null),cc(t,i);Dv(t)&&i!=sa&&i!=lc&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,We(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vh(e),e.M=!0,We(11))):(Or(t.j,t.m,n,"[Invalid Chunked Response]"),Kn(t),Bi(t))}C.mb=function(){if(this.g){var t=$t(this.g),e=this.g.ja();this.C<e.length&&(Ga(this),Av(this,t,e),this.i&&t!=4&&Po(this))}};function QS(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?sa:(n=Number(e.substring(n,r)),isNaN(n)?lc:(r+=1,r+n>e.length?sa:(e=e.slice(r,r+n),t.C=r+n,e)))}C.cancel=function(){this.J=!0,Kn(this)};function Po(t){t.Y=Date.now()+t.P,xv(t,t.P)}function xv(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=_o(je(t.lb,t),e)}function Ga(t){t.B&&(L.clearTimeout(t.B),t.B=null)}C.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(KS(this.j,this.A),this.L!=2&&(mo(),We(17)),Kn(this),this.o=2,Bi(this)):xv(this,this.Y-t)};function Bi(t){t.l.H==0||t.J||Yv(t.l,t)}function Kn(t){Ga(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Rh(t.V),wv(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function cc(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||hc(n.i,t))){if(!t.K&&hc(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ua(n),Wa(n);else break e;zh(n),We(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=_o(je(n.ib,n),6e3));if(1>=Uv(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else qn(n,11)}else if((t.K||n.g==t)&&ua(n),!uo(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.i;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Uh(o,o.h),o.h=null))}if(r.F){const y=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,ne(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=ey(r,r.J?r.pa:null,r.Y),s.K){bv(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(Ga(a),Po(a)),r.g=s}else Wv(r);0<n.j.length&&Qa(n)}else u[0]!="stop"&&u[0]!="close"||qn(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?qn(n,7):Fh(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}mo(4)}catch{}}function YS(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if($a(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function XS(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if($a(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Ov(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if($a(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=XS(t),r=YS(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var _v=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZS(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xn){this.h=t.h,aa(this,t.j),this.s=t.s,this.g=t.g,la(this,t.m),this.l=t.l;var e=t.i,n=new go;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Hf(this,n),this.o=t.o}else t&&(e=String(t).match(_v))?(this.h=!1,aa(this,e[1]||"",!0),this.s=Ni(e[2]||""),this.g=Ni(e[3]||"",!0),la(this,e[4]),this.l=Ni(e[5]||"",!0),Hf(this,e[6]||"",!0),this.o=Ni(e[7]||"")):(this.h=!1,this.i=new go(null,this.h))}Xn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Di(e,Gf,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Di(e,Gf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Di(n,n.charAt(0)=="/"?nT:tT,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Di(n,iT)),t.join("")};function tn(t){return new Xn(t)}function aa(t,e,n){t.j=n?Ni(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function la(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Hf(t,e,n){e instanceof go?(t.i=e,oT(t.i,t.h)):(n||(e=Di(e,rT)),t.i=new go(e,t.h))}function ne(t,e,n){t.i.set(e,n)}function Ja(t){return ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ni(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Di(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,eT),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function eT(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Gf=/[#\/\?@]/g,tT=/[#\?:]/g,nT=/[#\?]/g,rT=/[#\?@]/g,iT=/#/g;function go(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Un(t){t.g||(t.g=new Map,t.h=0,t.i&&ZS(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}C=go.prototype;C.add=function(t,e){Un(this),this.i=null,t=ai(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Rv(t,e){Un(t),e=ai(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Mv(t,e){return Un(t),e=ai(t,e),t.g.has(e)}C.forEach=function(t,e){Un(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};C.ta=function(){Un(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};C.Z=function(t){Un(this);let e=[];if(typeof t=="string")Mv(this,t)&&(e=e.concat(this.g.get(ai(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};C.set=function(t,e){return Un(this),this.i=null,t=ai(this,t),Mv(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};C.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Pv(t,e,n){Rv(t,e),0<n.length&&(t.i=null,t.g.set(ai(t,e),Ch(n)),t.h+=n.length)}C.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ai(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function oT(t,e){e&&!t.j&&(Un(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Rv(this,r),Pv(this,i,n))},t)),t.j=e}var sT=class{constructor(t,e){this.g=t,this.map=e}};function Lv(t){this.l=t||aT,L.PerformanceNavigationTiming?(t=L.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(L.g&&L.g.Ka&&L.g.Ka()&&L.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var aT=10;function $v(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Uv(t){return t.h?1:t.g?t.g.size:0}function hc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Uh(t,e){t.g?t.g.add(e):t.h=e}function bv(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Lv.prototype.cancel=function(){if(this.i=Bv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Bv(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ch(t.i)}var lT=class{stringify(t){return L.JSON.stringify(t,void 0)}parse(t){return L.JSON.parse(t,void 0)}};function uT(){this.g=new lT}function cT(t,e,n){const r=n||"";try{Ov(t,function(i,o){let s=i;xo(i)&&(s=Oh(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hT(t,e){const n=new za;if(L.Image){const r=new Image;r.onload=us(hs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=us(hs,n,r,"TestLoadImage: error",!1,e),r.onabort=us(hs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=us(hs,n,r,"TestLoadImage: timeout",!1,e),L.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function hs(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Lo(t){this.l=t.fc||null,this.j=t.ob||!1}xe(Lo,Ph);Lo.prototype.g=function(){return new Ka(this.l,this.j)};Lo.prototype.i=function(t){return function(){return t}}({});function Ka(t,e){Ae.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=bh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xe(Ka,Ae);var bh=0;C=Ka.prototype;C.open=function(t,e){if(this.readyState!=bh)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,vo(this)};C.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||L).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};C.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$o(this)),this.readyState=bh};C.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof L.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fv(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Fv(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}C.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$o(this):vo(this),this.readyState==3&&Fv(this)}};C.Za=function(t){this.g&&(this.response=this.responseText=t,$o(this))};C.Ya=function(t){this.g&&(this.response=t,$o(this))};C.ka=function(){this.g&&$o(this)};function $o(t){t.readyState=4,t.l=null,t.j=null,t.A=null,vo(t)}C.setRequestHeader=function(t,e){this.v.append(t,e)};C.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};C.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function vo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var dT=L.JSON.parse;function de(t){Ae.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zv,this.L=this.M=!1}xe(de,Ae);var zv="",fT=/^https?$/i,pT=["POST","PUT"];C=de.prototype;C.Oa=function(t){this.M=t};C.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ac.g(),this.C=this.u?jf(this.u):jf(ac),this.g.onreadystatechange=je(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Jf(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=L.FormData&&t instanceof L.FormData,!(0<=iv(pT,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Hv(this),0<this.B&&((this.L=mT(this.g))?(this.g.timeout=this.B,this.g.ontimeout=je(this.ua,this)):this.A=Mh(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Jf(this,o)}};function mT(t){return Wr&&typeof t.timeout=="number"&&t.ontimeout!==void 0}C.ua=function(){typeof Th<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pe(this,"timeout"),this.abort(8))};function Jf(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Vv(t),qa(t)}function Vv(t){t.F||(t.F=!0,Pe(t,"complete"),Pe(t,"error"))}C.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Pe(this,"complete"),Pe(this,"abort"),qa(this))};C.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qa(this,!0)),de.$.N.call(this)};C.La=function(){this.s||(this.G||this.v||this.l?jv(this):this.kb())};C.kb=function(){jv(this)};function jv(t){if(t.h&&typeof Th<"u"&&(!t.C[1]||$t(t)!=4||t.da()!=2)){if(t.v&&$t(t)==4)Mh(t.La,0,t);else if(Pe(t,"readystatechange"),$t(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(_v)[1]||null;!i&&L.self&&L.self.location&&(i=L.self.location.protocol.slice(0,-1)),r=!fT.test(i?i.toLowerCase():"")}n=r}if(n)Pe(t,"complete"),Pe(t,"success");else{t.m=6;try{var o=2<$t(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",Vv(t)}}finally{qa(t)}}}}function qa(t,e){if(t.g){Hv(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Pe(t,"ready");try{n.onreadystatechange=r}catch{}}}function Hv(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(L.clearTimeout(t.A),t.A=null)}C.isActive=function(){return!!this.g};function $t(t){return t.g?t.g.readyState:0}C.da=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}};C.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};C.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),dT(e)}};function Kf(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case zv:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function gT(t){const e={};t=(t.g&&2<=$t(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(uo(t[r]))continue;var n=zS(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}PS(e,function(r){return r.join(", ")})}C.Ia=function(){return this.m};C.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Gv(t){let e="";return kh(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Bh(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Gv(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ne(t,e,n))}function Ei(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Jv(t){this.Ga=0,this.j=[],this.l=new za,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ei("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ei("baseRetryDelayMs",5e3,t),this.hb=Ei("retryDelaySeedMs",1e4,t),this.eb=Ei("forwardChannelMaxRetries",2,t),this.xa=Ei("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Lv(t&&t.concurrentRequestLimit),this.Ja=new uT,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}C=Jv.prototype;C.ra=8;C.H=1;function Fh(t){if(Kv(t),t.H==3){var e=t.W++,n=tn(t.I);if(ne(n,"SID",t.K),ne(n,"RID",e),ne(n,"TYPE","terminate"),Uo(t,n),e=new Mo(t,t.l,e),e.L=2,e.v=Ja(tn(n)),n=!1,L.navigator&&L.navigator.sendBeacon)try{n=L.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&L.Image&&(new Image().src=e.v,n=!0),n||(e.g=ty(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Po(e)}Zv(t)}function Wa(t){t.g&&(Vh(t),t.g.cancel(),t.g=null)}function Kv(t){Wa(t),t.u&&(L.clearTimeout(t.u),t.u=null),ua(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&L.clearTimeout(t.m),t.m=null)}function Qa(t){if(!$v(t.i)&&!t.m){t.m=!0;var e=t.Na;ho||gv(),fo||(ho(),fo=!0),_h.add(e,t),t.C=0}}function vT(t,e){return Uv(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=_o(je(t.Na,t,e),Xv(t,t.C)),t.C++,!0)}C.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Mo(this,this.l,t);let o=this.s;if(this.U&&(o?(o=lv(o),uv(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qv(this,i,e),n=tn(this.I),ne(n,"RID",t),ne(n,"CVER",22),this.F&&ne(n,"X-HTTP-Session-Id",this.F),Uo(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Gv(o)))+"&"+e:this.o&&Bh(n,this.o,o)),Uh(this.i,i),this.bb&&ne(n,"TYPE","init"),this.P?(ne(n,"$req",e),ne(n,"SID","null"),i.aa=!0,uc(i,n,null)):uc(i,n,e),this.H=2}}else this.H==3&&(t?qf(this,t):this.j.length==0||$v(this.i)||qf(this))};function qf(t,e){var n;e?n=e.m:n=t.W++;const r=tn(t.I);ne(r,"SID",t.K),ne(r,"RID",n),ne(r,"AID",t.V),Uo(t,r),t.o&&t.s&&Bh(r,t.o,t.s),n=new Mo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=qv(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Uh(t.i,n),uc(n,r,e)}function Uo(t,e){t.na&&kh(t.na,function(n,r){ne(e,r,n)}),t.h&&Ov({},function(n,r){ne(e,r,n)})}function qv(t,e,n){n=Math.min(t.j.length,n);var r=t.h?je(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{cT(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Wv(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ho||gv(),fo||(ho(),fo=!0),_h.add(e,t),t.A=0}}function zh(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=_o(je(t.Ma,t),Xv(t,t.A)),t.A++,!0)}C.Ma=function(){if(this.u=null,Qv(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=_o(je(this.jb,this),t)}};C.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,We(10),Wa(this),Qv(this))};function Vh(t){t.B!=null&&(L.clearTimeout(t.B),t.B=null)}function Qv(t){t.g=new Mo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=tn(t.wa);ne(e,"RID","rpc"),ne(e,"SID",t.K),ne(e,"AID",t.V),ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ne(e,"TO",t.qa),ne(e,"TYPE","xmlhttp"),Uo(t,e),t.o&&t.s&&Bh(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ja(tn(e)),n.s=null,n.S=!0,Nv(n,t)}C.ib=function(){this.v!=null&&(this.v=null,Wa(this),zh(this),We(19))};function ua(t){t.v!=null&&(L.clearTimeout(t.v),t.v=null)}function Yv(t,e){var n=null;if(t.g==e){ua(t),Vh(t),t.g=null;var r=2}else if(hc(t.i,e))n=e.F,bv(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Va(),Pe(r,new Tv(r,n)),Qa(t)}else Wv(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&vT(t,e)||r==2&&zh(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:qn(t,5);break;case 4:qn(t,10);break;case 3:qn(t,6);break;default:qn(t,2)}}}function Xv(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function qn(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=je(t.pb,t);n||(n=new Xn("//www.google.com/images/cleardot.gif"),L.location&&L.location.protocol=="http"||aa(n,"https"),Ja(n)),hT(n.toString(),r)}else We(2);t.H=0,t.h&&t.h.za(e),Zv(t),Kv(t)}C.pb=function(t){t?(this.l.info("Successfully pinged google.com"),We(2)):(this.l.info("Failed to ping google.com"),We(1))};function Zv(t){if(t.H=0,t.ma=[],t.h){const e=Bv(t.i);(e.length!=0||t.j.length!=0)&&(bf(t.ma,e),bf(t.ma,t.j),t.i.i.length=0,Ch(t.j),t.j.length=0),t.h.ya()}}function ey(t,e,n){var r=n instanceof Xn?tn(n):new Xn(n);if(r.g!="")e&&(r.g=e+"."+r.g),la(r,r.m);else{var i=L.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Xn(null);r&&aa(o,r),e&&(o.g=e),i&&la(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&ne(r,n,e),ne(r,"VER",t.ra),Uo(t,r),r}function ty(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new de(new Lo({ob:!0})):new de(t.va),e.Oa(t.J),e}C.isActive=function(){return!!this.h&&this.h.isActive(this)};function ny(){}C=ny.prototype;C.Ba=function(){};C.Aa=function(){};C.za=function(){};C.ya=function(){};C.isActive=function(){return!0};C.Va=function(){};function ca(){if(Wr&&!(10<=Number(OS)))throw Error("Environmental error: no available transport.")}ca.prototype.g=function(t,e){return new ft(t,e)};function ft(t,e){Ae.call(this),this.g=new Jv(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!uo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!uo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new li(this)}xe(ft,Ae);ft.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;We(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ey(t,null,t.Y),Qa(t)};ft.prototype.close=function(){Fh(this.g)};ft.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Oh(t),t=n);e.j.push(new sT(e.fb++,t)),e.H==3&&Qa(e)};ft.prototype.N=function(){this.g.h=null,delete this.j,Fh(this.g),delete this.g,ft.$.N.call(this)};function ry(t){Lh.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xe(ry,Lh);function iy(){$h.call(this),this.status=1}xe(iy,$h);function li(t){this.g=t}xe(li,ny);li.prototype.Ba=function(){Pe(this.g,"a")};li.prototype.Aa=function(t){Pe(this.g,new ry(t))};li.prototype.za=function(t){Pe(this.g,new iy)};li.prototype.ya=function(){Pe(this.g,"b")};function yT(){this.blockSize=-1}function _t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xe(_t,yT);_t.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Wl(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}_t.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Wl(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Wl(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Wl(this,r),i=0;break}}this.h=i,this.i+=e};_t.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Q(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var wT={};function jh(t){return-128<=t&&128>t?DS(t,function(e){return new Q([e|0],0>e?-1:0)}):new Q([t|0],0>t?-1:0)}function Ut(t){if(isNaN(t)||!isFinite(t))return br;if(0>t)return Re(Ut(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=dc;return new Q(e,0)}function oy(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Re(oy(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ut(Math.pow(e,8)),r=br,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Ut(Math.pow(e,o)),r=r.R(o).add(Ut(s))):(r=r.R(n),r=r.add(Ut(s)))}return r}var dc=4294967296,br=jh(0),fc=jh(1),Wf=jh(16777216);C=Q.prototype;C.ea=function(){if(wt(this))return-Re(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:dc+r)*e,e*=dc}return t};C.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Wt(this))return"0";if(wt(this))return"-"+Re(this).toString(t);for(var e=Ut(Math.pow(t,6)),n=this,r="";;){var i=da(n,e).g;n=ha(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Wt(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};C.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Wt(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function wt(t){return t.h==-1}C.X=function(t){return t=ha(this,t),wt(t)?-1:Wt(t)?0:1};function Re(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Q(n,~t.h).add(fc)}C.abs=function(){return wt(this)?Re(this):this};C.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Q(n,n[n.length-1]&-2147483648?-1:0)};function ha(t,e){return t.add(Re(e))}C.R=function(t){if(Wt(this)||Wt(t))return br;if(wt(this))return wt(t)?Re(this).R(Re(t)):Re(Re(this).R(t));if(wt(t))return Re(this.R(Re(t)));if(0>this.X(Wf)&&0>t.X(Wf))return Ut(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,ds(n,2*r+2*i),n[2*r+2*i+1]+=o*l,ds(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,ds(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,ds(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Q(n,0)};function ds(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Si(t,e){this.g=t,this.h=e}function da(t,e){if(Wt(e))throw Error("division by zero");if(Wt(t))return new Si(br,br);if(wt(t))return e=da(Re(t),e),new Si(Re(e.g),Re(e.h));if(wt(e))return e=da(t,Re(e)),new Si(Re(e.g),e.h);if(30<t.g.length){if(wt(t)||wt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=fc,r=e;0>=r.X(t);)n=Qf(n),r=Qf(r);var i=mr(n,1),o=mr(r,1);for(r=mr(r,2),n=mr(n,2);!Wt(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=mr(r,1),n=mr(n,1)}return e=ha(t,i.R(e)),new Si(i,e)}for(i=br;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Ut(n),s=o.R(e);wt(s)||0<s.X(t);)n-=r,o=Ut(n),s=o.R(e);Wt(o)&&(o=fc),i=i.add(o),t=ha(t,s)}return new Si(i,t)}C.gb=function(t){return da(this,t).h};C.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Q(n,this.h&t.h)};C.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Q(n,this.h|t.h)};C.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Q(n,this.h^t.h)};function Qf(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Q(n,t.h)}function mr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Q(i,t.h)}ca.prototype.createWebChannel=ca.prototype.g;ft.prototype.send=ft.prototype.u;ft.prototype.open=ft.prototype.m;ft.prototype.close=ft.prototype.close;ja.NO_ERROR=0;ja.TIMEOUT=8;ja.HTTP_ERROR=6;Cv.COMPLETE="complete";Iv.EventType=Ro;Ro.OPEN="a";Ro.CLOSE="b";Ro.ERROR="c";Ro.MESSAGE="d";Ae.prototype.listen=Ae.prototype.O;de.prototype.listenOnce=de.prototype.P;de.prototype.getLastError=de.prototype.Sa;de.prototype.getLastErrorCode=de.prototype.Ia;de.prototype.getStatus=de.prototype.da;de.prototype.getResponseJson=de.prototype.Wa;de.prototype.getResponseText=de.prototype.ja;de.prototype.send=de.prototype.ha;de.prototype.setWithCredentials=de.prototype.Oa;_t.prototype.digest=_t.prototype.l;_t.prototype.reset=_t.prototype.reset;_t.prototype.update=_t.prototype.j;Q.prototype.add=Q.prototype.add;Q.prototype.multiply=Q.prototype.R;Q.prototype.modulo=Q.prototype.gb;Q.prototype.compare=Q.prototype.X;Q.prototype.toNumber=Q.prototype.ea;Q.prototype.toString=Q.prototype.toString;Q.prototype.getBits=Q.prototype.D;Q.fromNumber=Ut;Q.fromString=oy;var ET=function(){return new ca},ST=function(){return Va()},Ql=ja,TT=Cv,CT=hr,Yf={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},IT=Lo,fs=Iv,kT=de,NT=_t,Br=Q;const Xf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ui="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Xg("@firebase/firestore");function Zf(){return or.logLevel}function O(t,...e){if(or.logLevel<=q.DEBUG){const n=e.map(Hh);or.debug(`Firestore (${ui}): ${t}`,...n)}}function nn(t,...e){if(or.logLevel<=q.ERROR){const n=e.map(Hh);or.error(`Firestore (${ui}): ${t}`,...n)}}function Qr(t,...e){if(or.logLevel<=q.WARN){const n=e.map(Hh);or.warn(`Firestore (${ui}): ${t}`,...n)}}function Hh(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(t="Unexpected state"){const e=`FIRESTORE (${ui}) INTERNAL ASSERTION FAILED: `+t;throw nn(e),new Error(e)}function ie(t,e){t||$()}function F(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class R extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Be.UNAUTHENTICATED))}shutdown(){}}class AT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xT{constructor(e){this.t=e,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new kn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new kn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ie(typeof r.accessToken=="string"),new sy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ie(e===null||typeof e=="string"),new Be(e)}}class OT{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class _T{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new OT(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MT{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ie(typeof n.token=="string"),this.T=n.token,new RT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PT(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function Yr(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new R(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new R(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new R(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new R(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ce(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.timestamp=e}static fromTimestamp(e){return new b(e)}static min(){return new b(new Ce(0,0))}static max(){return new b(new Ce(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r){n===void 0?n=0:n>e.length&&$(),r===void 0?r=e.length-n:r>e.length-n&&$(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class se extends yo{construct(e,n,r){return new se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new R(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new se(n)}static emptyPath(){return new se([])}}const LT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ve extends yo{construct(e,n,r){return new Ve(e,n,r)}static isValidIdentifier(e){return LT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ve.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ve(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new R(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new R(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new R(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new R(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ve(n)}static emptyPath(){return new Ve([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.path=e}static fromPath(e){return new M(se.fromString(e))}static fromName(e){return new M(se.fromString(e).popFirst(5))}static empty(){return new M(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new se(e.slice()))}}function $T(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=b.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new On(i,M.empty(),e)}function UT(t){return new On(t.readTime,t.key,-1)}class On{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new On(b.min(),M.empty(),-1)}static max(){return new On(b.max(),M.empty(),-1)}}function bT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:K(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==BT)throw t;O("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new T((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):T.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):T.reject(n)}static resolve(e){return new T((n,r)=>{n(e)})}static reject(e){return new T((n,r)=>{r(e)})}static waitFor(e){return new T((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=T.resolve(!1);for(const r of e)n=n.next(i=>i?T.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new T((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new T((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Bo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Gh.ct=-1;function Ya(t){return t==null}function fa(t){return t===0&&1/t==-1/0}function zT(t){return typeof t=="number"&&Number.isInteger(t)&&!fa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ly(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,n){this.comparator=e,this.root=n||_e.EMPTY}insert(e,n){return new ce(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_e.BLACK,null,null))}remove(e){return new ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_e.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ps(this.root,e,this.comparator,!0)}}class ps{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _e{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??_e.RED,this.left=i??_e.EMPTY,this.right=o??_e.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new _e(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _e.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_e.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}_e.EMPTY=null,_e.RED=!0,_e.BLACK=!1;_e.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(t,e,n,r,i){return this}insert(t,e,n){return new _e(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.comparator=e,this.data=new ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tp(this.data.getIterator())}getIteratorFrom(e){return new tp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ge(this.comparator);return n.data=e,n}}class tp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.fields=e,e.sort(Ve.comparator)}static empty(){return new ct([])}unionWith(e){let n=new Ge(Ve.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ct(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new uy("Invalid base64 string: "+i):i}}(e);return new Ke(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Ke(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const VT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _n(t){if(ie(!!t),typeof t=="string"){let e=0;const n=VT.exec(t);if(ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ye(t.seconds),nanos:ye(t.nanos)}}function ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sr(t){return typeof t=="string"?Ke.fromBase64String(t):Ke.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Kh(t){const e=t.mapValue.fields.__previous_value__;return Jh(e)?Kh(e):e}function wo(t){const e=_n(t.mapValue.fields.__local_write_time__.timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Eo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Eo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Eo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ar(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jh(t)?4:HT(t)?9007199254740991:10:$()}function Vt(t,e){if(t===e)return!0;const n=ar(t);if(n!==ar(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wo(t).isEqual(wo(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=_n(r.timestampValue),s=_n(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return sr(r.bytesValue).isEqual(sr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ye(r.geoPointValue.latitude)===ye(i.geoPointValue.latitude)&&ye(r.geoPointValue.longitude)===ye(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ye(r.integerValue)===ye(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=ye(r.doubleValue),s=ye(i.doubleValue);return o===s?fa(o)===fa(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Yr(t.arrayValue.values||[],e.arrayValue.values||[],Vt);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(ep(o)!==ep(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!Vt(o[a],s[a])))return!1;return!0}(t,e);default:return $()}}function So(t,e){return(t.values||[]).find(n=>Vt(n,e))!==void 0}function Xr(t,e){if(t===e)return 0;const n=ar(t),r=ar(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=ye(i.integerValue||i.doubleValue),a=ye(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return np(t.timestampValue,e.timestampValue);case 4:return np(wo(t),wo(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(i,o){const s=sr(i),a=sr(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const u=K(s[l],a[l]);if(u!==0)return u}return K(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=K(ye(i.latitude),ye(o.latitude));return s!==0?s:K(ye(i.longitude),ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const u=Xr(s[l],a[l]);if(u)return u}return K(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===ms.mapValue&&o===ms.mapValue)return 0;if(i===ms.mapValue)return 1;if(o===ms.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=K(a[c],u[c]);if(h!==0)return h;const d=Xr(s[a[c]],l[u[c]]);if(d!==0)return d}return K(a.length,u.length)}(t.mapValue,e.mapValue);default:throw $()}}function np(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return K(t,e);const n=_n(t),r=_n(e),i=K(n.seconds,r.seconds);return i!==0?i:K(n.nanos,r.nanos)}function Zr(t){return pc(t)}function pc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=_n(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?sr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,M.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=pc(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${pc(r.fields[a])}`;return o+"}"}(t.mapValue):$();var e,n}function mc(t){return!!t&&"integerValue"in t}function qh(t){return!!t&&"arrayValue"in t}function rp(t){return!!t&&"nullValue"in t}function ip(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Os(t){return!!t&&"mapValue"in t}function Fi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return dr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.value=e}static empty(){return new tt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Os(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fi(n)}setAll(e){let n=Ve.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Fi(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Os(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Os(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){dr(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new tt(Fi(this.value))}}function cy(t){const e=[];return dr(t.fields,(n,r)=>{const i=new Ve([n]);if(Os(r)){const o=cy(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ct(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ze(e,0,b.min(),b.min(),b.min(),tt.empty(),0)}static newFoundDocument(e,n,r,i){return new ze(e,1,n,b.min(),r,i,0)}static newNoDocument(e,n){return new ze(e,2,n,b.min(),b.min(),tt.empty(),0)}static newUnknownDocument(e,n){return new ze(e,3,n,b.min(),b.min(),tt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(b.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=b.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this.position=e,this.inclusive=n}}function op(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=M.comparator(M.fromName(s.referenceValue),n.key):r=Xr(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function sp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n="asc"){this.field=e,this.dir=n}}function GT(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{}class Se extends hy{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KT(e,n,r):n==="array-contains"?new QT(e,r):n==="in"?new YT(e,r):n==="not-in"?new XT(e,r):n==="array-contains-any"?new ZT(e,r):new Se(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qT(e,r):new WT(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xr(n,this.value)):n!==null&&ar(this.value)===ar(n)&&this.matchesComparison(Xr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class jt extends hy{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new jt(e,n)}matches(e){return dy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function dy(t){return t.op==="and"}function fy(t){return JT(t)&&dy(t)}function JT(t){for(const e of t.filters)if(e instanceof jt)return!1;return!0}function gc(t){if(t instanceof Se)return t.field.canonicalString()+t.op.toString()+Zr(t.value);if(fy(t))return t.filters.map(e=>gc(e)).join(",");{const e=t.filters.map(n=>gc(n)).join(",");return`${t.op}(${e})`}}function py(t,e){return t instanceof Se?function(n,r){return r instanceof Se&&n.op===r.op&&n.field.isEqual(r.field)&&Vt(n.value,r.value)}(t,e):t instanceof jt?function(n,r){return r instanceof jt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&py(o,r.filters[s]),!0):!1}(t,e):void $()}function my(t){return t instanceof Se?function(e){return`${e.field.canonicalString()} ${e.op} ${Zr(e.value)}`}(t):t instanceof jt?function(e){return e.op.toString()+" {"+e.getFilters().map(my).join(" ,")+"}"}(t):"Filter"}class KT extends Se{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class qT extends Se{constructor(e,n){super(e,"in",n),this.keys=gy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WT extends Se{constructor(e,n){super(e,"not-in",n),this.keys=gy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gy(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class QT extends Se{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qh(n)&&So(n.arrayValue,this.value)}}class YT extends Se{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&So(this.value.arrayValue,n)}}class XT extends Se{constructor(e,n){super(e,"not-in",n)}matches(e){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!So(this.value.arrayValue,n)}}class ZT extends Se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>So(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function ap(t,e=null,n=[],r=[],i=null,o=null,s=null){return new eC(t,e,n,r,i,o,s)}function Wh(t){const e=F(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ya(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zr(r)).join(",")),e.dt=n}return e.dt}function Qh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GT(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!py(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sp(t.startAt,e.startAt)&&sp(t.endAt,e.endAt)}function vc(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function tC(t,e,n,r,i,o,s,a){return new Xa(t,e,n,r,i,o,s,a)}function Yh(t){return new Xa(t)}function lp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function rC(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function iC(t){return t.collectionGroup!==null}function Fr(t){const e=F(t);if(e.wt===null){e.wt=[];const n=rC(e),r=nC(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new zi(n)),e.wt.push(new zi(Ve.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new zi(Ve.keyField(),o))}}}return e.wt}function rn(t){const e=F(t);if(!e._t)if(e.limitType==="F")e._t=ap(e.path,e.collectionGroup,Fr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Fr(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new zi(o.field,s))}const r=e.endAt?new pa(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new pa(e.startAt.position,e.startAt.inclusive):null;e._t=ap(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function yc(t,e,n){return new Xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Za(t,e){return Qh(rn(t),rn(e))&&t.limitType===e.limitType}function vy(t){return`${Wh(rn(t))}|lt:${t.limitType}`}function wc(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>my(r)).join(", ")}]`),Ya(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zr(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zr(r)).join(",")),`Target(${n})`}(rn(t))}; limitType=${t.limitType})`}function el(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Fr(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=op(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,Fr(n),r)||n.endAt&&!function(i,o,s){const a=op(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,Fr(n),r))}(t,e)}function oC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yy(t){return(e,n)=>{let r=!1;for(const i of Fr(t)){const o=sC(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function sC(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return a!==null&&l!==null?Xr(a,l):$()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dr(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return ly(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new ce(M.comparator);function on(){return aC}const wy=new ce(M.comparator);function Ai(...t){let e=wy;for(const n of t)e=e.insert(n.key,n);return e}function Ey(t){let e=wy;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wn(){return Vi()}function Sy(){return Vi()}function Vi(){return new ci(t=>t.toString(),(t,e)=>t.isEqual(e))}const lC=new ce(M.comparator),uC=new Ge(M.comparator);function j(...t){let e=uC;for(const n of t)e=e.add(n);return e}const cC=new Ge(K);function hC(){return cC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fa(e)?"-0":e}}function Cy(t){return{integerValue:""+t}}function dC(t,e){return zT(e)?Cy(e):Ty(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this._=void 0}}function fC(t,e,n){return t instanceof ma?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Jh(i)&&(i=Kh(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof To?ky(t,e):t instanceof Co?Ny(t,e):function(r,i){const o=Iy(r,i),s=up(o)+up(r.gt);return mc(o)&&mc(r.gt)?Cy(s):Ty(r.serializer,s)}(t,e)}function pC(t,e,n){return t instanceof To?ky(t,e):t instanceof Co?Ny(t,e):n}function Iy(t,e){return t instanceof ga?mc(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ma extends tl{}class To extends tl{constructor(e){super(),this.elements=e}}function ky(t,e){const n=Dy(e);for(const r of t.elements)n.some(i=>Vt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Co extends tl{constructor(e){super(),this.elements=e}}function Ny(t,e){let n=Dy(e);for(const r of t.elements)n=n.filter(i=>!Vt(i,r));return{arrayValue:{values:n}}}class ga extends tl{constructor(e,n){super(),this.serializer=e,this.gt=n}}function up(t){return ye(t.integerValue||t.doubleValue)}function Dy(t){return qh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mC(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof To&&r instanceof To||n instanceof Co&&r instanceof Co?Yr(n.elements,r.elements,Vt):n instanceof ga&&r instanceof ga?Vt(n.gt,r.gt):n instanceof ma&&r instanceof ma}(t.transform,e.transform)}class gC{constructor(e,n){this.version=e,this.transformResults=n}}class Ft{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ft}static exists(e){return new Ft(void 0,e)}static updateTime(e){return new Ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _s(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nl{}function Ay(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Oy(t.key,Ft.none()):new Fo(t.key,t.data,Ft.none());{const n=t.data,r=tt.empty();let i=new Ge(Ve.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new bn(t.key,r,new ct(i.toArray()),Ft.none())}}function vC(t,e,n){t instanceof Fo?function(r,i,o){const s=r.value.clone(),a=hp(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof bn?function(r,i,o){if(!_s(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=hp(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(xy(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ji(t,e,n,r){return t instanceof Fo?function(i,o,s,a){if(!_s(i.precondition,o))return s;const l=i.value.clone(),u=dp(i.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof bn?function(i,o,s,a){if(!_s(i.precondition,o))return s;const l=dp(i.fieldTransforms,a,o),u=o.data;return u.setAll(xy(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,o,s){return _s(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function yC(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Iy(r.transform,i||null);o!=null&&(n===null&&(n=tt.empty()),n.set(r.field,o))}return n||null}function cp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Yr(n,r,(i,o)=>mC(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fo extends nl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bn extends nl{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function xy(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hp(t,e,n){const r=new Map;ie(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,pC(s,a,n[i]))}return r}function dp(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,fC(o,s,e))}return r}class Oy extends nl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wC extends nl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&vC(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ji(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ji(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Sy();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=Ay(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(b.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),j())}isEqual(e){return this.batchId===e.batchId&&Yr(this.mutations,e.mutations,(n,r)=>cp(n,r))&&Yr(this.baseMutations,e.baseMutations,(n,r)=>cp(n,r))}}class Xh{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ie(e.mutations.length===r.length);let i=lC;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Xh(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,H;function CC(t){switch(t){default:return $();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function _y(t){if(t===void 0)return nn("GRPC error has no .code"),E.UNKNOWN;switch(t){case ge.OK:return E.OK;case ge.CANCELLED:return E.CANCELLED;case ge.UNKNOWN:return E.UNKNOWN;case ge.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case ge.INTERNAL:return E.INTERNAL;case ge.UNAVAILABLE:return E.UNAVAILABLE;case ge.UNAUTHENTICATED:return E.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case ge.NOT_FOUND:return E.NOT_FOUND;case ge.ALREADY_EXISTS:return E.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return E.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case ge.ABORTED:return E.ABORTED;case ge.OUT_OF_RANGE:return E.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return E.UNIMPLEMENTED;case ge.DATA_LOSS:return E.DATA_LOSS;default:return $()}}(H=ge||(ge={}))[H.OK=0]="OK",H[H.CANCELLED=1]="CANCELLED",H[H.UNKNOWN=2]="UNKNOWN",H[H.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",H[H.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",H[H.NOT_FOUND=5]="NOT_FOUND",H[H.ALREADY_EXISTS=6]="ALREADY_EXISTS",H[H.PERMISSION_DENIED=7]="PERMISSION_DENIED",H[H.UNAUTHENTICATED=16]="UNAUTHENTICATED",H[H.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",H[H.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",H[H.ABORTED=10]="ABORTED",H[H.OUT_OF_RANGE=11]="OUT_OF_RANGE",H[H.UNIMPLEMENTED=12]="UNIMPLEMENTED",H[H.INTERNAL=13]="INTERNAL",H[H.UNAVAILABLE=14]="UNAVAILABLE",H[H.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return gs}static getOrCreateInstance(){return gs===null&&(gs=new Zh),gs}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let gs=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new Br([4294967295,4294967295],0);function fp(t){const e=IC().encode(t),n=new NT;return n.update(e),new Uint8Array(n.digest())}function pp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Br([n,r],0),new Br([i,o],0)]}class ed{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xi(`Invalid padding: ${n}`);if(r<0)throw new xi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xi(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Br.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Br.fromNumber(r)));return i.compare(kC)===1&&(i=new Br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=fp(e),[r,i]=pp(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new ed(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.It===0)return;const n=fp(e),[r,i]=pp(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rl(b.min(),i,new ce(K),on(),j())}}class zo{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zo(r,n,j(),j(),j())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class Ry{constructor(e,n){this.targetId=e,this.Vt=n}}class My{constructor(e,n,r=Ke.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mp{constructor(){this.St=0,this.Dt=vp(),this.Ct=Ke.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=j(),n=j(),r=j();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$()}}),new zo(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=vp()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class NC{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=on(),this.zt=gp(),this.Wt=new ce(K)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:$()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(vc(s))if(i===0){const a=new M(s.path);this.Yt(r,a,ze.newNoDocument(a,b.min()))}else ie(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=Zh.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,h){var d,g,v,y,k,p;const f={localCacheCount:c,existenceFilterCount:h.count},m=h.unchangedNames;return m&&(f.bloomFilter={applied:u===0,hashCount:(d=m==null?void 0:m.hashCount)!==null&&d!==void 0?d:0,bitmapLength:(y=(v=(g=m==null?void 0:m.bits)===null||g===void 0?void 0:g.bitmap)===null||v===void 0?void 0:v.length)!==null&&y!==void 0?y:0,padding:(p=(k=m==null?void 0:m.bits)===null||k===void 0?void 0:k.padding)!==null&&p!==void 0?p:0}),f}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,u;try{l=sr(o).toUint8Array()}catch(c){if(c instanceof uy)return Qr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new ed(l,s,a)}catch(c){return Qr(c instanceof xi?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&vc(a.target)){const l=new M(a.target.path);this.jt.get(l)!==null||this.ae(s,l)||this.Yt(s,l,ze.newNoDocument(l,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=j();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new rl(e,n,this.Wt,this.jt,r);return this.jt=on(),this.zt=gp(),this.Wt=new ce(K),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new mp,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ge(K),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new mp),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function gp(){return new ce(M.comparator)}function vp(){return new ce(M.comparator)}const DC=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),AC=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),xC=(()=>({and:"AND",or:"OR"}))();class OC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ec(t,e){return t.useProto3Json||Ya(e)?e:{value:e}}function va(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Py(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _C(t,e){return va(t,e.toTimestamp())}function zt(t){return ie(!!t),b.fromTimestamp(function(e){const n=_n(e);return new Ce(n.seconds,n.nanos)}(t))}function td(t,e){return function(n){return new se(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Ly(t){const e=se.fromString(t);return ie(By(e)),e}function Sc(t,e){return td(t.databaseId,e.path)}function Yl(t,e){const n=Ly(e);if(n.get(1)!==t.databaseId.projectId)throw new R(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new R(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M($y(n))}function Tc(t,e){return td(t.databaseId,e)}function RC(t){const e=Ly(t);return e.length===4?se.emptyPath():$y(e)}function Cc(t){return new se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $y(t){return ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yp(t,e,n){return{name:Sc(t,e),fields:n.value.mapValue.fields}}function MC(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:$()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(ie(u===void 0||typeof u=="string"),Ke.fromBase64String(u||"")):(ie(u===void 0||u instanceof Uint8Array),Ke.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const u=l.code===void 0?E.UNKNOWN:_y(l.code);return new R(u,l.message||"")}(s);n=new My(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yl(t,r.document.name),o=zt(r.document.updateTime),s=r.document.createTime?zt(r.document.createTime):b.min(),a=new tt({mapValue:{fields:r.document.fields}}),l=ze.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Rs(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Yl(t,r.document),o=r.readTime?zt(r.readTime):b.min(),s=ze.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Rs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Yl(t,r.document),o=r.removedTargetIds||[];n=new Rs([],o,i,null)}else{if(!("filter"in e))return $();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new TC(i,o),a=r.targetId;n=new Ry(a,s)}}return n}function PC(t,e){let n;if(e instanceof Fo)n={update:yp(t,e.key,e.value)};else if(e instanceof Oy)n={delete:Sc(t,e.key)};else if(e instanceof bn)n={update:yp(t,e.key,e.data),updateMask:jC(e.fieldMask)};else{if(!(e instanceof wC))return $();n={verify:Sc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof ma)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof To)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Co)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ga)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw $()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:_C(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:$()}(t,e.precondition)),n}function LC(t,e){return t&&t.length>0?(ie(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?zt(r.updateTime):zt(i);return o.isEqual(b.min())&&(o=zt(i)),new gC(o,r.transformResults||[])}(n,e))):[]}function $C(t,e){return{documents:[Tc(t,e.path)]}}function UC(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Tc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Tc(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return by(jt.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:gr(c.field),direction:FC(c.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Ec(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function bC(t){let e=RC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ie(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(c){const h=Uy(c);return h instanceof jt&&fy(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(c=>function(h){return new zi(vr(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Ya(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new pa(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new pa(d,h)}(n.endAt)),tC(e,i,s,o,a,"F",l,u)}function BC(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Uy(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=vr(e.unaryFilter.field);return Se.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=vr(e.unaryFilter.field);return Se.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=vr(e.unaryFilter.field);return Se.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vr(e.unaryFilter.field);return Se.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(t):t.fieldFilter!==void 0?function(e){return Se.create(vr(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return jt.create(e.compositeFilter.filters.map(n=>Uy(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return $()}}(e.compositeFilter.op))}(t):$()}function FC(t){return DC[t]}function zC(t){return AC[t]}function VC(t){return xC[t]}function gr(t){return{fieldPath:t.canonicalString()}}function vr(t){return Ve.fromServerFormat(t.fieldPath)}function by(t){return t instanceof Se?function(e){if(e.op==="=="){if(ip(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NAN"}};if(rp(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ip(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NOT_NAN"}};if(rp(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gr(e.field),op:zC(e.op),value:e.value}}}(t):t instanceof jt?function(e){const n=e.getFilters().map(r=>by(r));return n.length===1?n[0]:{compositeFilter:{op:VC(e.op),filters:n}}}(t):$()}function jC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function By(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,r,i,o=b.min(),s=b.min(),a=Ke.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new pn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.fe=e}}function GC(t){const e=bC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.rn=new KC}addToCollectionParentIndex(e,n){return this.rn.add(n),T.resolve()}getCollectionParents(e,n){return T.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return T.resolve()}deleteFieldIndex(e,n){return T.resolve()}getDocumentsMatchingTarget(e,n){return T.resolve(null)}getIndexType(e,n){return T.resolve(0)}getFieldIndexes(e,n){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}getMinOffset(e,n){return T.resolve(On.min())}getMinOffsetFromCollectionGroup(e,n){return T.resolve(On.min())}updateCollectionGroup(e,n,r){return T.resolve()}updateIndexEntries(e,n){return T.resolve()}}class KC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ge(se.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ei(0)}static Mn(){return new ei(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.changes=new ci(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ze.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?T.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ji(r.mutation,i,ct.empty(),Ce.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,j()).next(()=>r))}getLocalViewOfDocuments(e,n,r=j()){const i=Wn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ai();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Wn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,j()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=on();const s=Vi(),a=Vi();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof bn)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ji(c.mutation,u,c.mutation.getFieldMask(),Ce.now())):s.set(u.key,ct.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new WC(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Vi();let i=new ce((s,a)=>s-a),o=j();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ct.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||j()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=Sy();c.forEach(d=>{if(!o.has(d)){const g=Ay(n.get(d),r.get(d));g!==null&&h.set(d,g),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return T.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return M.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):T.resolve(Wn());let a=-1,l=o;return s.next(u=>T.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?T.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,j())).next(c=>({batchId:a,changes:Ey(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Ai();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Ai();return this.indexManager.getCollectionParents(e,i).next(s=>T.forEach(s,a=>{const l=function(u,c){return new Xa(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{o=o.insert(c,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,ze.newInvalidDocument(u)))});let s=Ai();return o.forEach((a,l)=>{const u=i.get(a);u!==void 0&&ji(u.mutation,l,ct.empty(),Ce.now()),el(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return T.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:zt(r.createTime)}),T.resolve()}getNamedQuery(e,n){return T.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:GC(r.bundledQuery),readTime:zt(r.readTime)}}(n)),T.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.overlays=new ce(M.comparator),this.ls=new Map}getOverlay(e,n){return T.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wn();return T.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),T.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),T.resolve()}getOverlaysForCollection(e,n,r){const i=Wn(),o=n.length+1,s=new M(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return T.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ce((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Wn(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Wn(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return T.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new SC(n,r));let o=this.ls.get(n);o===void 0&&(o=j(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this.fs=new Ge(ke.ds),this.ws=new Ge(ke._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new ke(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new ke(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new se([])),r=new ke(n,e),i=new ke(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new se([])),r=new ke(n,e),i=new ke(n,e+1);let o=j();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ke(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ke{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||K(e.As,n.As)}static _s(e,n){return K(e.As,n.As)||M.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ge(ke.ds)}checkEmpty(e){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new EC(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(s)}lookupMutationBatch(e,n){return T.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),o=i<0?0:i;return T.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ke(n,0),i=new ke(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),T.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(K);return n.forEach(i=>{const o=new ke(i,0),s=new ke(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),T.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;M.isDocumentKey(o)||(o=o.child(""));const s=new ke(new M(o),0);let a=new Ge(K);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},s),T.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ie(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return T.forEach(n.mutations,i=>{const o=new ke(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new ke(n,0),i=this.Rs.firstAfterOrEqual(r);return T.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,T.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.Ds=e,this.docs=new ce(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return T.resolve(r?r.document.mutableCopy():ze.newInvalidDocument(n))}getEntries(e,n){let r=on();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ze.newInvalidDocument(i))}),T.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=on();const s=n.path,a=new M(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||bT(UT(c),r)<=0||(i.has(c.key)||el(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return T.resolve(o)}getAllFromCollectionGroup(e,n,r,i){$()}Cs(e,n){return T.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tI(this)}getSize(e){return T.resolve(this.size)}}class tI extends qC{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),T.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.persistence=e,this.xs=new ci(n=>Wh(n),Qh),this.lastRemoteSnapshotVersion=b.min(),this.highestTargetId=0,this.Ns=0,this.ks=new nd,this.targetCount=0,this.Ms=ei.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),T.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ei(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,T.resolve()}updateTargetData(e,n){return this.Fn(n),T.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),T.waitFor(o).next(()=>i)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return T.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),T.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),T.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),T.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return T.resolve(r)}containsKey(e,n){return T.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n){this.$s={},this.overlays={},this.Os=new Gh(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new nI(this),this.indexManager=new JC,this.remoteDocumentCache=function(r){return new eI(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new HC(n),this.qs=new YC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new ZC(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);const i=new iI(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return T.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class iI extends FT{constructor(e){super(),this.currentSequenceNumber=e}}class rd{constructor(e){this.persistence=e,this.Qs=new nd,this.js=null}static zs(e){return new rd(e)}get Ws(){if(this.js)return this.js;throw $()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),T.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),T.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),T.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,b.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return T.or([()=>T.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=j(),i=j();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new id(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(lp(n))return T.resolve(null);let r=rn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yc(n,null,"F"),r=rn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=j(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,s,l.readTime)?this.Ki(e,yc(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return lp(n)||i.isEqual(b.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(Zf()<=q.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wc(n)),this.Wi(e,s,n,$T(i,-1)))})}ji(e,n){let r=new Ge(yy(e));return n.forEach((i,o)=>{el(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return Zf()<=q.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",wc(n)),this.Ui.getDocumentsMatchingQuery(e,n,On.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ce(K),this.Yi=new ci(o=>Wh(o),Qh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QC(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function aI(t,e,n,r){return new sI(t,e,n,r)}async function Fy(t,e){const n=F(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=j();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:s,addedBatchIds:a}))})})}function lI(t,e){const n=F(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,u){const c=l.batch,h=c.keys();let d=T.resolve();return h.forEach(g=>{d=d.next(()=>u.getEntry(a,g)).next(v=>{const y=l.docVersions.get(g);ie(y!==null),v.version.compareTo(y)<0&&(c.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),d.next(()=>s.mutationQueue.removeMutationBatch(a,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=j();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zy(t){const e=F(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function uI(t,e){const n=F(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Bs.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(o,c.addedDocuments,h)));let g=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Ke.EMPTY_BYTE_STRING,b.min()).withLastLimboFreeSnapshotVersion(b.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(h,g),function(v,y,k){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(d,g,c)&&a.push(n.Bs.updateTargetData(o,g))});let l=on(),u=j();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(cI(o,s,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(b.min())){const c=n.Bs.getLastRemoteSnapshotVersion(o).next(h=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return T.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ji=i,o))}function cI(t,e,n){let r=j(),i=j();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=on();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(b.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):O("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:s,sr:i}})}function hI(t,e){const n=F(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dI(t,e){const n=F(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,T.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new pn(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Ic(t,e,n){const r=F(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Bo(s))throw s;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function wp(t,e,n){const r=F(t);let i=b.min(),o=j();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,u){const c=F(a),h=c.Yi.get(u);return h!==void 0?T.resolve(c.Ji.get(h)):c.Bs.getTargetData(l,u)}(r,s,rn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:b.min(),n?o:j())).next(a=>(fI(r,oC(e),a),{documents:a,ir:o})))}function fI(t,e,n){let r=t.Xi.get(e)||b.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}class Ep{constructor(){this.activeTargetIds=hC()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pI{constructor(){this.Hr=new Ep,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ep,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vs=null;function Xl(){return vs===null?vs=268435456+Math.round(2147483648*Math.random()):vs++,"0x"+vs.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be="WebChannelConnection";class yI extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=Xl(),a=this.To(e,n);O("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const l={};return this.Eo(l,i,o),this.Ao(e,a,l,r).then(u=>(O("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw Qr("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ui,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){const r=gI[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=Xl();return new Promise((s,a)=>{const l=new kT;l.setWithCredentials(!0),l.listenOnce(TT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ql.NO_ERROR:const c=l.getResponseJson();O(be,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Ql.TIMEOUT:O(be,`RPC '${e}' ${o} timed out`),a(new R(E.DEADLINE_EXCEEDED,"Request time out"));break;case Ql.HTTP_ERROR:const h=l.getStatus();if(O(be,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const v=function(y){const k=y.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(k)>=0?k:E.UNKNOWN}(g.status);a(new R(v,g.message))}else a(new R(E.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new R(E.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{O(be,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);O(be,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=Xl(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ET(),a=ST(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new IT({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");O(be,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let d=!1,g=!1;const v=new vI({ro:k=>{g?O(be,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(d||(O(be,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),O(be,`RPC '${e}' stream ${i} sending:`,k),h.send(k))},oo:()=>h.close()}),y=(k,p,f)=>{k.listen(p,m=>{try{f(m)}catch(w){setTimeout(()=>{throw w},0)}})};return y(h,fs.EventType.OPEN,()=>{g||O(be,`RPC '${e}' stream ${i} transport opened.`)}),y(h,fs.EventType.CLOSE,()=>{g||(g=!0,O(be,`RPC '${e}' stream ${i} transport closed`),v.wo())}),y(h,fs.EventType.ERROR,k=>{g||(g=!0,Qr(be,`RPC '${e}' stream ${i} transport errored:`,k),v.wo(new R(E.UNAVAILABLE,"The operation could not be completed")))}),y(h,fs.EventType.MESSAGE,k=>{var p;if(!g){const f=k.data[0];ie(!!f);const m=f,w=m.error||((p=m[0])===null||p===void 0?void 0:p.error);if(w){O(be,`RPC '${e}' stream ${i} received error:`,w);const I=w.status;let A=function(_){const Y=ge[_];if(Y!==void 0)return _y(Y)}(I),x=w.message;A===void 0&&(A=E.INTERNAL,x="Unknown error status: "+I+" with message "+w.message),g=!0,v.wo(new R(A,x)),h.close()}else O(be,`RPC '${e}' stream ${i} received:`,f),v._o(f)}}),y(a,CT.STAT_EVENT,k=>{k.stat===Yf.PROXY?O(be,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Yf.NOPROXY&&O(be,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}function Zl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){return new OC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,r,i,o,s,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Vy(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(nn(n.toString()),nn("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===E.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new R(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wI extends jy{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=MC(this.serializer,e),r=function(i){if(!("targetChange"in i))return b.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?b.min():o.readTime?zt(o.readTime):b.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Cc(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=vc(a)?{documents:$C(i,a)}:{query:UC(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=Py(i,o.resumeToken);const l=Ec(i,o.expectedCount);l!==null&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(b.min())>0){s.readTime=va(i,o.snapshotVersion.toTimestamp());const l=Ec(i,o.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const r=BC(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Cc(this.serializer),n.removeTarget=e,this.Wo(n)}}class EI extends jy{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=LC(e.writeResults,e.commitTime),r=zt(e.commitTime);return this.listener.cu(r,n)}return ie(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Cc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PC(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new R(E.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new R(E.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new R(E.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class TI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(nn(n),this.mu=!1):O("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(s=>{r.enqueueAndForget(async()=>{fr(this)&&(O("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=F(a);l.vu.add(4),await Vo(l),l.bu.set("Unknown"),l.vu.delete(4),await ol(l)}(this))})}),this.bu=new TI(r,i)}}async function ol(t){if(fr(t))for(const e of t.Ru)await e(!0)}async function Vo(t){for(const e of t.Ru)await e(!1)}function Hy(t,e){const n=F(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ad(n)?sd(n):hi(n).Ko()&&od(n,e))}function Gy(t,e){const n=F(t),r=hi(n);n.Au.delete(e),r.Ko()&&Jy(n,e),n.Au.size===0&&(r.Ko()?r.jo():fr(n)&&n.bu.set("Unknown"))}function od(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(b.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hi(t).su(e)}function Jy(t,e){t.Vu.qt(e),hi(t).iu(e)}function sd(t){t.Vu=new NC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),hi(t).start(),t.bu.gu()}function ad(t){return fr(t)&&!hi(t).Uo()&&t.Au.size>0}function fr(t){return F(t).vu.size===0}function Ky(t){t.Vu=void 0}async function II(t){t.Au.forEach((e,n)=>{od(t,e)})}async function kI(t,e){Ky(t),ad(t)?(t.bu.Iu(e),sd(t)):t.bu.set("Unknown")}async function NI(t,e,n){if(t.bu.set("Online"),e instanceof My&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.Au.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.Au.delete(s),r.Vu.removeTarget(s))}(t,e)}catch(r){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ya(t,r)}else if(e instanceof Rs?t.Vu.Ht(e):e instanceof Ry?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(b.min()))try{const r=await zy(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(Ke.EMPTY_BYTE_STRING,u.snapshotVersion)),Jy(i,a);const c=new pn(u.target,a,l,u.sequenceNumber);od(i,c)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){O("RemoteStore","Failed to raise snapshot:",r),await ya(t,r)}}async function ya(t,e,n){if(!Bo(e))throw e;t.vu.add(1),await Vo(t),t.bu.set("Offline"),n||(n=()=>zy(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{O("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await ol(t)})}function qy(t,e){return e().catch(n=>ya(t,n,e))}async function sl(t){const e=F(t),n=Rn(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;DI(e);)try{const i=await hI(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,AI(e,i)}catch(i){await ya(e,i)}Wy(e)&&Qy(e)}function DI(t){return fr(t)&&t.Eu.length<10}function AI(t,e){t.Eu.push(e);const n=Rn(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Wy(t){return fr(t)&&!Rn(t).Uo()&&t.Eu.length>0}function Qy(t){Rn(t).start()}async function xI(t){Rn(t).hu()}async function OI(t){const e=Rn(t);for(const n of t.Eu)e.uu(n.mutations)}async function _I(t,e,n){const r=t.Eu.shift(),i=Xh.from(r,e,n);await qy(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await sl(t)}async function RI(t,e){e&&Rn(t).ou&&await async function(n,r){if(i=r.code,CC(i)&&i!==E.ABORTED){const o=n.Eu.shift();Rn(n).Qo(),await qy(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await sl(n)}var i}(t,e),Wy(t)&&Qy(t)}async function Tp(t,e){const n=F(t);n.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const r=fr(n);n.vu.add(3),await Vo(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await ol(n)}async function MI(t,e){const n=F(t);e?(n.vu.delete(2),await ol(n)):e||(n.vu.add(2),await Vo(n),n.bu.set("Unknown"))}function hi(t){return t.Su||(t.Su=function(e,n,r){const i=F(e);return i.fu(),new wI(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:II.bind(null,t),ao:kI.bind(null,t),nu:NI.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),ad(t)?sd(t):t.bu.set("Unknown")):(await t.Su.stop(),Ky(t))})),t.Su}function Rn(t){return t.Du||(t.Du=function(e,n,r){const i=F(e);return i.fu(),new EI(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:xI.bind(null,t),ao:RI.bind(null,t),au:OI.bind(null,t),cu:_I.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await sl(t)):(await t.Du.stop(),t.Eu.length>0&&(O("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ld(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new R(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ud(t,e){if(nn("AsyncQueue",`${e}: ${t}`),Bo(t))return new R(E.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Ai(),this.sortedSet=new ce(this.comparator)}static emptySet(e){return new zr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.Cu=new ce(M.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):$():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ti{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ti(e,n,zr.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Za(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.Nu=void 0,this.listeners=[]}}class LI{constructor(){this.queries=new ci(e=>vy(e),Za),this.onlineState="Unknown",this.ku=new Set}}async function $I(t,e){const n=F(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new PI),i)try{o.Nu=await n.onListen(r)}catch(s){const a=ud(s,`Initialization of query '${wc(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&cd(n)}async function UI(t,e){const n=F(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function bI(t,e){const n=F(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&cd(n)}function BI(t,e,n){const r=F(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function cd(t){t.ku.forEach(e=>{e.next()})}class FI{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ti(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=ti.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this.key=e}}class Xy{constructor(e){this.key=e}}class zI{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=j(),this.mutatedKeys=j(),this.tc=yy(e),this.ec=new zr(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Cp,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),g=el(this.query,h)?h:null,v=!!d&&this.mutatedKeys.has(d.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let k=!1;d&&g?d.data.isEqual(g.data)?v!==y&&(r.track({type:3,doc:g}),k=!0):this.rc(d,g)||(r.track({type:2,doc:g}),k=!0,(l&&this.tc(g,l)>0||u&&this.tc(g,u)<0)&&(a=!0)):!d&&g?(r.track({type:0,doc:g}),k=!0):d&&!g&&(r.track({type:1,doc:d}),k=!0,(l||u)&&(a=!0)),k&&(g?(s=s.add(g),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((u,c)=>function(h,d){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return g(h)-g(d)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const s=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,o.length!==0||l?{snapshot:new ti(this.query,e.ec,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Cp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=j(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Xy(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Yy(r))}),n}hc(e){this.Yu=e.ir,this.Zu=j();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ti.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class VI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jI{constructor(e){this.key=e,this.fc=!1}}class HI{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new ci(a=>vy(a),Za),this._c=new Map,this.mc=new Set,this.gc=new ce(M.comparator),this.yc=new Map,this.Ic=new nd,this.Tc={},this.Ec=new Map,this.Ac=ei.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function GI(t,e){const n=tk(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=await dI(n.localStore,rn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await JI(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&Hy(n.remoteStore,s)}return i}async function JI(t,e,n,r,i){t.Rc=(h,d,g)=>async function(v,y,k,p){let f=y.view.sc(k);f.zi&&(f=await wp(v.localStore,y.query,!1).then(({documents:I})=>y.view.sc(I,f)));const m=p&&p.targetChanges.get(y.targetId),w=y.view.applyChanges(f,v.isPrimaryClient,m);return kp(v,y.targetId,w.cc),w.snapshot}(t,h,d,g);const o=await wp(t.localStore,e,!0),s=new zI(e,o.ir),a=s.sc(o.documents),l=zo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);kp(t,n,u.cc);const c=new VI(e,n,s);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function KI(t,e){const n=F(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!Za(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ic(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Gy(n.remoteStore,r.targetId),kc(n,r.targetId)}).catch(bo)):(kc(n,r.targetId),await Ic(n.localStore,r.targetId,!0))}async function qI(t,e,n){const r=nk(t);try{const i=await function(o,s){const a=F(o),l=Ce.now(),u=s.reduce((d,g)=>d.add(g.key),j());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let g=on(),v=j();return a.Zi.getEntries(d,u).next(y=>{g=y,g.forEach((k,p)=>{p.isValidDocument()||(v=v.add(k))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,g)).next(y=>{c=y;const k=[];for(const p of s){const f=yC(p,c.get(p.key).overlayedDocument);f!=null&&k.push(new bn(p.key,f,cy(f.value.mapValue),Ft.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,k,s)}).next(y=>{h=y;const k=y.applyToLocalDocumentSet(c,v);return a.documentOverlayCache.saveOverlays(d,y.batchId,k)})}).then(()=>({batchId:h.batchId,changes:Ey(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new ce(K)),l=l.insert(s,a),o.Tc[o.currentUser.toKey()]=l}(r,i.batchId,n),await jo(r,i.changes),await sl(r.remoteStore)}catch(i){const o=ud(i,"Failed to persist write");n.reject(o)}}async function Zy(t,e){const n=F(t);try{const r=await uI(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?ie(s.fc):i.removedDocuments.size>0&&(ie(s.fc),s.fc=!1))}),await jo(n,r,e)}catch(r){await bo(r)}}function Ip(t,e,n){const r=F(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=F(o);a.onlineState=s;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Mu(s)&&(l=!0)}),l&&cd(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WI(t,e,n){const r=F(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new ce(M.comparator);s=s.insert(o,ze.newNoDocument(o,b.min()));const a=j().add(o),l=new rl(b.min(),new Map,new ce(K),s,a);await Zy(r,l),r.gc=r.gc.remove(o),r.yc.delete(e),hd(r)}else await Ic(r.localStore,e,!1).then(()=>kc(r,e,n)).catch(bo)}async function QI(t,e){const n=F(t),r=e.batch.batchId;try{const i=await lI(n.localStore,e);t0(n,r,null),e0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jo(n,i)}catch(i){await bo(i)}}async function YI(t,e,n){const r=F(t);try{const i=await function(o,s){const a=F(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,s).next(c=>(ie(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);t0(r,e,n),e0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jo(r,i)}catch(i){await bo(i)}}function e0(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function t0(t,e,n){const r=F(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function kc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||n0(t,r)})}function n0(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Gy(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),hd(t))}function kp(t,e,n){for(const r of n)r instanceof Yy?(t.Ic.addReference(r.key,e),XI(t,r)):r instanceof Xy?(O("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||n0(t,r.key)):$()}function XI(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(O("SyncEngine","New document in limbo: "+n),t.mc.add(r),hd(t))}function hd(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new M(se.fromString(e)),r=t.Ac.next();t.yc.set(r,new jI(n)),t.gc=t.gc.insert(n,r),Hy(t.remoteStore,new pn(rn(Yh(n.path)),r,"TargetPurposeLimboResolution",Gh.ct))}}async function jo(t,e,n){const r=F(t),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{s.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=id.Li(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.dc.nu(i),await async function(a,l){const u=F(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>T.forEach(l,h=>T.forEach(h.Fi,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>T.forEach(h.Bi,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!Bo(c))throw c;O("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.Ji.get(h),g=d.snapshotVersion,v=d.withLastLimboFreeSnapshotVersion(g);u.Ji=u.Ji.insert(h,v)}}}(r.localStore,o))}async function ZI(t,e){const n=F(t);if(!n.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());const r=await Fy(n.localStore,e);n.currentUser=e,function(i,o){i.Ec.forEach(s=>{s.forEach(a=>{a.reject(new R(E.CANCELLED,o))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jo(n,r.er)}}function ek(t,e){const n=F(t),r=n.yc.get(e);if(r&&r.fc)return j().add(r.key);{let i=j();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}function tk(t){const e=F(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ek.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WI.bind(null,e),e.dc.nu=bI.bind(null,e.eventManager),e.dc.Pc=BI.bind(null,e.eventManager),e}function nk(t){const e=F(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YI.bind(null,e),e}class Np{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=il(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aI(this.persistence,new oI,e.initialUser,this.serializer)}createPersistence(e){return new rI(rd.zs,this.serializer)}createSharedClientState(e){return new pI}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class rk{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ip(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZI.bind(null,this.syncEngine),await MI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new LI}createDatastore(e){const n=il(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new yI(i));var i;return function(o,s,a,l){return new SI(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>Ip(this.syncEngine,a,0),s=Sp.D()?new Sp:new mI,new CI(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,l,u){const c=new HI(r,i,o,s,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=F(e);O("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Vo(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):nn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Be.UNAUTHENTICATED,this.clientId=ay.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{O("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(O("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new R(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ud(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function eu(t,e){t.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Fy(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Dp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ak(t);O("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Tp(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Tp(e.remoteStore,o)),t._onlineComponents=e}function sk(t){return t.name==="FirebaseError"?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function ak(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{await eu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!sk(n))throw n;Qr("Error using user provided cache. Falling back to memory cache: "+n),await eu(t,new Np)}}else O("FirestoreClient","Using default OfflineComponentProvider"),await eu(t,new Np);return t._offlineComponents}async function r0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),await Dp(t,t._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),await Dp(t,new rk))),t._onlineComponents}function lk(t){return r0(t).then(e=>e.syncEngine)}async function uk(t){const e=await r0(t),n=e.eventManager;return n.onListen=GI.bind(null,e.syncEngine),n.onUnlisten=KI.bind(null,e.syncEngine),n}function ck(t,e,n={}){const r=new kn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new ik({next:h=>{o.enqueueAndForget(()=>UI(i,c));const d=h.docs.has(s);!d&&h.fromCache?l.reject(new R(E.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new R(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new FI(Yh(s.path),u,{includeMetadataChanges:!0,Ku:!0});return $I(i,c)}(await uk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t,e,n){if(!n)throw new R(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hk(t,e,n,r){if(e===!0&&r===!0)throw new R(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xp(t){if(!M.isDocumentKey(t))throw new R(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Op(t){if(M.isDocumentKey(t))throw new R(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$()}function lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new R(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dd(t);throw new R(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new R(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new R(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new R(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new R(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new R(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class al{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _p({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new R(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new R(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _p(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new DT;switch(n.type){case"firstParty":return new _T(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new R(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ap.get(e);n&&(O("ComponentProvider","Removing Datastore"),Ap.delete(e),n.terminate())}(this),Promise.resolve()}}function dk(t,e,n,r={}){var i;const o=(t=lr(t,al))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Be.MOCK_USER;else{a=iE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new R(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Be(u)}t._authCredentials=new AT(new sy(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}}class fd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fd(this.firestore,e,this._query)}}class Nn extends fd{constructor(e,n,r){super(e,n,Yh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new M(e))}withConverter(e){return new Nn(this.firestore,e,this._path)}}function fk(t,e,...n){if(t=xn(t),o0("collection","path",e),t instanceof al){const r=se.fromString(e,...n);return Op(r),new Nn(t,null,r)}{if(!(t instanceof st||t instanceof Nn))throw new R(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(se.fromString(e,...n));return Op(r),new Nn(t.firestore,null,r)}}function tu(t,e,...n){if(t=xn(t),arguments.length===1&&(e=ay.A()),o0("doc","path",e),t instanceof al){const r=se.fromString(e,...n);return xp(r),new st(t,null,new M(r))}{if(!(t instanceof st||t instanceof Nn))throw new R(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(se.fromString(e,...n));return xp(r),new st(t.firestore,t instanceof Nn?t.converter:null,new M(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Vy(this,"async_queue_retry"),this.Xc=()=>{const n=Zl();n&&O("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Zl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Zl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new kn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Bo(e))throw e;O("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw nn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=ld.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&$()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class ll extends al{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||a0(this),this._firestoreClient.terminate()}}function mk(t,e){const n=typeof t=="object"?t:lS(),r=typeof t=="string"?t:e||"(default)",i=iS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=nE("firestore");o&&dk(i,...o)}return i}function s0(t){return t._firestoreClient||a0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function a0(t){var e,n,r;const i=t._freezeSettings(),o=function(s,a,l,u){return new jT(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,i0(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ok(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(Ke.fromBase64String(e))}catch(n){throw new R(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ni(Ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new R(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ve(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new R(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new R(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=/^__.*__$/;class vk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fo(e,this.data,n,this.fieldTransforms)}}class l0{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function u0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class gd{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new gd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return wa(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(u0(this.ca)&&gk.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class yk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||il(e)}ya(e,n,r,i=!1){return new gd({ca:e,methodName:n,ga:r,path:Ve.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c0(t){const e=t._freezeSettings(),n=il(t._databaseId);return new yk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wk(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);vd("Data must be an object, but it was:",s,r);const a=h0(r,s);let l,u;if(o.merge)l=new ct(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=Nc(e,h,n);if(!s.contains(d))throw new R(E.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);f0(c,d)||c.push(d)}l=new ct(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new vk(new tt(a),l,u)}class cl extends pd{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cl}}function Ek(t,e,n,r){const i=t.ya(1,e,n);vd("Data must be an object, but it was:",i,r);const o=[],s=tt.empty();dr(r,(l,u)=>{const c=yd(e,l,n);u=xn(u);const h=i.da(c);if(u instanceof cl)o.push(c);else{const d=hl(u,h);d!=null&&(o.push(c),s.set(c,d))}});const a=new ct(o);return new l0(s,a,i.fieldTransforms)}function Sk(t,e,n,r,i,o){const s=t.ya(1,e,n),a=[Nc(e,r,n)],l=[i];if(o.length%2!=0)throw new R(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(Nc(e,o[d])),l.push(o[d+1]);const u=[],c=tt.empty();for(let d=a.length-1;d>=0;--d)if(!f0(u,a[d])){const g=a[d];let v=l[d];v=xn(v);const y=s.da(g);if(v instanceof cl)u.push(g);else{const k=hl(v,y);k!=null&&(u.push(g),c.set(g,k))}}const h=new ct(u);return new l0(c,h,s.fieldTransforms)}function hl(t,e){if(d0(t=xn(t)))return vd("Unsupported field value:",e,t),h0(t,e);if(t instanceof pd)return function(n,r){if(!u0(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=hl(s,r.wa(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=xn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return dC(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ce.fromDate(n);return{timestampValue:va(r.serializer,i)}}if(n instanceof Ce){const i=new Ce(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:va(r.serializer,i)}}if(n instanceof md)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ni)return{bytesValue:Py(r.serializer,n._byteString)};if(n instanceof st){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:td(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${dd(n)}`)}(t,e)}function h0(t,e){const n={};return ly(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dr(t,(r,i)=>{const o=hl(i,e.ha(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function d0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof md||t instanceof ni||t instanceof st||t instanceof pd)}function vd(t,e,n){if(!d0(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=dd(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Nc(t,e,n){if((e=xn(e))instanceof ul)return e._internalPath;if(typeof e=="string")return yd(t,e);throw wa("Field path arguments must be of type string or ",t,!1,void 0,n)}const Tk=new RegExp("[~\\*/\\[\\]]");function yd(t,e,n){if(e.search(Tk)>=0)throw wa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ul(...e.split("."))._internalPath}catch{throw wa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wa(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new R(E.INVALID_ARGUMENT,a+t+l)}function f0(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ck(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(m0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ck extends p0{data(){return super.data()}}function m0(t,e){return typeof e=="string"?yd(t,e):e instanceof ul?e._internalPath:e._delegate._internalPath}class Ik{convertValue(e,n="none"){switch(ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw $()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return dr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new md(ye(e.latitude),ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wo(e));default:return null}}convertTimestamp(e){const n=_n(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=se.fromString(e);ie(By(r));const i=new Eo(r.get(1),r.get(3)),o=new M(r.popFirst(5));return i.isEqual(n)||nn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class g0 extends p0{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(m0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dk extends g0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){t=lr(t,st);const e=lr(t.firestore,ll);return ck(s0(e),t._key).then(n=>_k(e,t,n))}class Ak extends Ik{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function xk(t,e,n){t=lr(t,st);const r=lr(t.firestore,ll),i=kk(t.converter,e,n);return v0(r,[wk(c0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ft.none())])}function Ok(t,e,n,...r){t=lr(t,st);const i=lr(t.firestore,ll),o=c0(i);let s;return s=typeof(e=xn(e))=="string"||e instanceof ul?Sk(o,"updateDoc",t._key,e,n,r):Ek(o,"updateDoc",t._key,e),v0(i,[s.toMutation(t._key,Ft.exists(!0))])}function v0(t,e){return function(n,r){const i=new kn;return n.asyncQueue.enqueueAndForget(async()=>qI(await lk(n),r,i)),i.promise}(s0(t),e)}function _k(t,e,n){const r=n.docs.get(e._key),i=new Ak(t);return new g0(t,i,e._key,r,new Nk(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ui=n})(aS),oa(new ao("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new ll(new xT(n.getProvider("auth-internal")),new MT(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new R(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eo(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Ur(Xf,"3.13.0",t),Ur(Xf,"3.13.0","esm2017")})();function Rp(){return ve("div",{className:"absolute bottom-5 left-5 text-md mt-4",children:["Made with 🧠 by ",P("a",{href:"https://evilscript.eu",children:"Federico Torrielli"})]})}function Rk(){return ve("div",{children:[P("div",{className:"text-4xl font-bold",children:"Mapping Evaluation"}),ve("div",{children:[P("div",{className:"text-2xl mt-4",children:"Descrizione del task"}),P("p",{className:"mt-2",children:"In questa annotazione, ti verrà presentata una frase contenente un verbo e un sostantivo. L'obiettivo è determinare se il sostantivo svolge il ruolo semantico specificato rispetto al verbo indicato."}),P("p",{className:"mt-2",children:P("b",{children:"Esempio di Frase:"})}),P("p",{className:"mt-2",children:'Dato il verbo QUESTION "direct or put; seek an answer to" (SUBJ) MOTHER "a woman who has given birth to a child (also used as a term of address to your mother)", ha il ruolo di AGENT "Actor in an event who initiates and carries out the event intentionally or consciously, and who exists independently of the event." ?'}),P("div",{className:"text-2xl mt-4",children:"Istruzione annotazione"}),ve("p",{className:"mt-2",children:["Le risposte possibili sono:",ve("ul",{className:"mt-2 list-decimal",children:[P("li",{children:"Sì: se il sostantivo svolge il ruolo semantico specificato."}),P("li",{children:"No: se il sostantivo non svolge il ruolo semantico specificato."}),P("li",{children:"Non sono sicuro: se hai dubbi o non sei certo del ruolo del sostantivo."})]})]}),P("p",{className:"mt-2",children:"Se non sei sicuro riguardo a un termine o hai bisogno di chiarimenti, puoi consultare risorse esterne su Internet per ottenere ulteriori informazioni. Assicurati che le tue annotazioni siano basate sulle definizioni fornite e sul loro significato nel contesto della frase."})]})]})}function Mk({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Pk=G.forwardRef(Mk),Lk=Pk;function $k({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const Uk=G.forwardRef($k),bk=Uk;function Bk({title:t,titleId:e,...n},r){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?G.createElement("title",{id:e},t):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Fk=G.forwardRef(Bk),zk=Fk;function Vk({text:t,different_icon:e}){const[n,r]=G.useState(!0),[i,o]=G.useState(!0);return n?P("div",{className:"bg-blue-600",children:P("div",{className:"mx-auto max-w-7xl py-3 px-3 sm:px-6 lg:px-8",children:ve("div",{className:"flex flex-wrap items-center justify-between",children:[ve("div",{className:"flex w-0 flex-1 items-center",children:[P("span",{className:"flex rounded-lg bg-blue-800 p-2",children:e?P(Lk,{className:"h-6 w-6 text-white","aria-hidden":"true"}):P(bk,{className:"h-6 w-6 text-white","aria-hidden":"true"})}),ve("p",{className:`ml-3 font-medium text-white ${i?"truncate":"whitespace-normal"}`,onClick:()=>{o(!i)},children:[P("span",{className:"md:hidden",children:t}),P("span",{className:"hidden md:inline",children:t})]})]}),P("div",{className:"order-2 flex-shrink-0 sm:order-3 sm:ml-3",children:ve("button",{type:"button",className:"-mr-1 flex rounded-md p-2 hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-white sm:-mr-2",onClick:()=>r(!1),children:[P("span",{className:"sr-only",children:"Dismiss"}),P(zk,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})]})})}):P("div",{})}const jk={apiKey:"AIzaSyDh_iuesG6NZ8YAZ6mVTGnYIlbd9jZBfH0",authDomain:"testtesi2.firebaseapp.com",projectId:"testtesi2",storageBucket:"testtesi2.appspot.com",messagingSenderId:"81327731379",appId:"1:81327731379:web:aa208cca6e636cd8d2f6c6"},Hk=tv(jk),y0=mk(Hk),Mp=fk(y0,"annotations_part_one");function Gk(){const[t,e]=G.useState(""),[n,r]=G.useState(!1),[i,o]=G.useState(!1);G.useState(!1),G.useState(!1);const[s,a]=G.useState([]),[l,u]=G.useState(0),[c,h]=G.useState([]),[d,g]=G.useState([]),[v,y]=G.useState(!1),[k,p]=G.useState(!1),[f,m]=G.useState(new Date),[w,I]=G.useState([]),A={1:xf,default:xf},x=(ee,fe)=>(fe.getTime()-ee.getTime())/1e3,_=ee=>{const fe=tu(Mp,ee);nu(fe).then(Ze=>{if(!Ze.exists())console.log("No such document!");else{const gt=Ze.data(),X=JSON.stringify(gt),N=new Blob([X],{type:"application/json"}),B=URL.createObjectURL(N),U=document.createElement("a");U.href=B,U.download=ee+".json",document.body.appendChild(U),U.click(),document.body.removeChild(U)}})},Y=async ee=>{if(ee.key==="Enter"||ee.type==="click"){if(t.length===0)return alert("Please enter your name");const fe=t.toLowerCase().trim();if(e(fe),fe.startsWith("admin")){const gt=fe.substring(6);_(gt);return}a(A[fe]||A.default);const Ze=tu(Mp,fe);await nu(Ze).then(gt=>{if(gt.exists()){const X=gt.data();X!=null&&X.dataset&&(X==null?void 0:X.i)>=(X==null?void 0:X.dataset.length)?alert("Thank you for your participation, you already completed the task!"):X&&(z(X.i,X.dataset.length),h(X.answers),I(X.timeDiffs),u(X.i),g(X.isHard),r(!0))}else r(!0)})}m(new Date)},z=(ee,fe)=>{const Ze=document.getElementById("progress-bar");Ze&&s&&(Ze.style.width=`${(ee+1)/fe*100}%`)},at=async ee=>{if(!v){y(!0);const fe=x(f,new Date),Ze=document.getElementById("hard-checkbox");if(s&&(z(l,s.length),p(!0)),s&&l<s.length){const gt=Ze.checked;g([...d,gt]),I([...w,fe]);const X=tu(y0,"annotations_part_one/"+t);await nu(X).then(N=>{N.exists()?Ok(X,{answers:ee,i:ee.length,isHard:[...d,Ze.checked],timeDiffs:[...w,fe],date:new Date}):xk(X,{name:t,answers:ee,i:ee.length,dataset:s,isHard:[...d,Ze.checked],timeDiffs:[...w,fe],date:new Date}),u(ee.length)})}m(new Date),Ze.checked=!1,s&&l+1>=s.length&&(alert("Thank you for your participation!"),r(!1),h([]),u(0)),y(!1)}},Ht=ee=>{const fe=[...c,ee];h(fe),at(fe)};return n?ve("div",{children:[ve("div",{className:"text-center justify-center mt-12",children:[P(Rp,{}),P("h1",{className:"text-4xl font-bold",children:"Valutazione prima parte"}),P("p",{className:"text-xl mt-6",id:"line",children:P("span",{className:"",children:s?s[l]:""})})]}),ve("div",{className:"flex justify-center mt-8",children:[P("button",{id:"yes-button",onClick:()=>Ht("Si"),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-110 shadow-lg disabled:bg-gray-500",disabled:v,children:"Yes"}),P("button",{id:"no-button",onClick:()=>Ht("No"),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full ml-4 transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-110 shadow-lg disabled:bg-gray-500",disabled:v,children:"No"}),P("button",{id:"dont-know-button",onClick:()=>Ht("Non sono sicuro"),className:"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded-full ml-4 transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-110 shadow-lg disabled:bg-gray-500",disabled:v,children:"Not sure"})]}),ve("div",{className:"flex justify-center mt-4",children:[ve("p",{children:["Was this ",P("a",{href:"#",className:"text-blue-600 hover:text-blue-700 cursor-default",title:"Please select this option if it is difficult for you to determine if the term is basic or advanced",children:"hard"})," to evaluate?"]}),P("input",{id:"hard-checkbox",type:"checkbox",className:"ml-2 h-6 w-6 rounded-full shadow checked:shadow-xl cursor-pointer"})]}),k&&s?P("div",{className:"flex justify-center mt-8 max-w-2xl mx-auto",children:ve("div",{id:"progress-bar",className:"bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-l-full",style:{height:17,width:`${(l+1)/s.length*100}%`},children:[Math.round((l+1)/s.length*100),"%"]})}):P("div",{})]}):i?ve("div",{children:[P(Vk,{text:"Remember that with your username you can always resume the session where you left"}),P(Rp,{}),ve("div",{className:"text-center mt-12",children:[P("div",{className:"text-4xl font-bold",children:"Ready to get bored?"}),P("div",{className:"text-2xl mt-4",children:"Please enter your name to start"}),P("div",{children:P("input",{value:t,onChange:ee=>e(ee.target.value.toLowerCase()),onKeyDown:Y,className:"rounded-lg shadow-lg p-2 border border-gray-400 mt-4",placeholder:"Type your name here..."})}),P("div",{children:P("button",{className:"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-110 shadow-lg",onClick:Y,children:"Start"})})]})]}):ve("div",{className:"text-center mt-8 max-w-3xl mx-auto",style:{overflowY:"scroll"},children:[P(Rk,{}),P("button",{className:"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-110 shadow-lg",onClick:()=>o(!0),children:"Proceed"})]})}function Jk(){const[t,e]=G.useState(!1),[n,r]=G.useState(!1),i=()=>{if(t){document.documentElement.classList.remove("dark-mode"),e(!1);const o=document.getElementsByTagName("input");for(const s of o)s.classList.remove("dark-mode-input")}else{document.documentElement.classList.add("dark-mode"),e(!0);const o=document.getElementsByTagName("input");for(const s of o)s.classList.add("dark-mode-input")}};return G.useEffect(()=>{const o=()=>{r(window.scrollY>0)};return window.addEventListener("scroll",o),()=>{window.removeEventListener("scroll",o)}},[]),P("div",{className:`sticky-button ${n?"sticky":""}`,children:ve("label",{className:"switch",children:[P("input",{type:"checkbox",onClick:i}),P("div",{className:"slider round"})]})})}ru.createRoot(document.getElementById("root")).render(ve(L0.StrictMode,{children:[P(Gk,{}),P(Jk,{})]}));
